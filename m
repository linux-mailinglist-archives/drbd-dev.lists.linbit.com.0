Return-Path: <drbd-dev-bounces@lists.linbit.com>
X-Original-To: lists+drbd-dev@lfdr.de
Delivered-To: lists+drbd-dev@lfdr.de
Received: from mail19.linbit.com (mail19.linbit.com [159.69.154.96])
	by mail.lfdr.de (Postfix) with ESMTPS id 2D3E74F5A42
	for <lists+drbd-dev@lfdr.de>; Wed,  6 Apr 2022 11:45:47 +0200 (CEST)
Received: from mail19.linbit.com (localhost [127.0.0.1])
	by mail19.linbit.com (LINBIT Mail Daemon) with ESMTP id 0E199420FD1;
	Wed,  6 Apr 2022 11:45:46 +0200 (CEST)
X-Original-To: drbd-dev@lists.linbit.com
Delivered-To: drbd-dev@lists.linbit.com
Received: from mail-ej1-f48.google.com (mail-ej1-f48.google.com
	[209.85.218.48])
	by mail19.linbit.com (LINBIT Mail Daemon) with ESMTP id 2545D420FBE
	for <drbd-dev@lists.linbit.com>; Wed,  6 Apr 2022 11:45:44 +0200 (CEST)
Received: by mail-ej1-f48.google.com with SMTP id r13so3084395ejd.5
	for <drbd-dev@lists.linbit.com>; Wed, 06 Apr 2022 02:45:44 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=linbit-com.20210112.gappssmtp.com; s=20210112;
	h=message-id:date:mime-version:user-agent:subject:content-language:to
	:references:cc:from:in-reply-to:content-transfer-encoding;
	bh=T7lRCMTPUU+56q5evRh1Znjs48oYFt09qLBPI9CnaRs=;
	b=Uu/VvcCq+6FxHakccyUSdcuXYuCjeRvlUhU88U+jLBPq5RnARzvscS7ooefSms236y
	Gwwk2Ay9vBrw2jDsPrSnJvbhrm15oKmXfAcDYfRF/XGxBOa3MUqEw0/AOc6Hw6B+eGT5
	Zl1wm5bvDmpHWeeYazqpDTwMeUHRn5C5KgUryf65s0soiCn3xv+lH+lqcCkotGhYZ5dt
	UiBbrfroH5ljJRe5GfVWpBiPsOHrnUaZ/Hs6npEWHostqigKC1G+WPNU2VjqY5u3FHia
	rUtAx/KcfqRsy0kcyy5gRnAp9KBEoLDnmhL+uq7Z3bB525xeErNq6Od2RDI3+qBpSZUQ
	mcGA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
	d=1e100.net; s=20210112;
	h=x-gm-message-state:message-id:date:mime-version:user-agent:subject
	:content-language:to:references:cc:from:in-reply-to
	:content-transfer-encoding;
	bh=T7lRCMTPUU+56q5evRh1Znjs48oYFt09qLBPI9CnaRs=;
	b=xRB5hHG3l00yWC0u6BKWmzTRtv6B8X7c8IxH+ipBgs0bNHfDTmixofMPJVYdyvVmGE
	GWyR5WonwHzn2D3pT7hIUlpHQHqXdXPtKqwSeeL0avCUtwiIebwWzyAurDqbLgjUVTiE
	0/dYwgrOYkezcoY+GiUEiVHuwgmb58ED9fZw0hAi+3TtfG2Y68lz8zQBz4G8LJIip+7l
	D2YoZ/Uaq4VuYZ6Q4magGy8jAeAAEpsDpbM1ubmU8AMHEm8nmZ698+slKDJ2A3ZKnSM8
	YqqO3Zlg0C7ayHVW03K17kBQcyp/c2WjyilG9QvUzKswSVZHZEc2nqwdvPeEWyIfu5wB
	VSAQ==
X-Gm-Message-State: AOAM531tt1Bm/4czmKm3jwErpXLA7KaW0UPtB6dpuhFb18ZQmsqXys/Y
	RfofSMqpy296b9a1W/NMhlqEiz3S
X-Google-Smtp-Source: ABdhPJycmiMzoKNtBva5r3wytEinljDDAI+sHRtPfBGEK/LvmXEXCyiTI1sNZk5GvMpAndvFgGa1dQ==
X-Received: by 2002:a17:906:6a05:b0:6e7:f5c8:1d55 with SMTP id
	qw5-20020a1709066a0500b006e7f5c81d55mr7416088ejc.443.1649238344324;
	Wed, 06 Apr 2022 02:45:44 -0700 (PDT)
Received: from [192.168.178.55] (85-127-190-169.dsl.dynamic.surfer.at.
	[85.127.190.169]) by smtp.gmail.com with ESMTPSA id
	z25-20020a1709067e5900b006e7fe2a1308sm2464514ejr.48.2022.04.06.02.45.43
	(version=TLS1_3 cipher=TLS_AES_128_GCM_SHA256 bits=128/128);
	Wed, 06 Apr 2022 02:45:43 -0700 (PDT)
Message-ID: <701cbe23-2f17-57d4-b300-c4ed66f9a08f@linbit.com>
Date: Wed, 6 Apr 2022 11:45:42 +0200
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:91.0) Gecko/20100101
	Thunderbird/91.7.0
Content-Language: en-US
To: Christoph Hellwig <hch@lst.de>
References: <20220406060516.409838-1-hch@lst.de>
	<20220406060516.409838-27-hch@lst.de>
From: =?UTF-8?Q?Christoph_B=c3=b6hmwalder?= <christoph.boehmwalder@linbit.com>
In-Reply-To: <20220406060516.409838-27-hch@lst.de>
Cc: linux-block@vger.kernel.org, Jens Axboe <axboe@kernel.dk>,
	drbd-dev@lists.linbit.com
Subject: Re: [Drbd-dev] [PATCH 26/27] block: uncouple REQ_OP_SECURE_ERASE
 from REQ_OP_DISCARD
X-BeenThere: drbd-dev@lists.linbit.com
X-Mailman-Version: 2.1.11
Precedence: list
List-Id: "*Coordination* of development, patches,
	contributions -- *Questions* \(even to developers\) go to drbd-user,
	please." <drbd-dev.lists.linbit.com>
List-Unsubscribe: <https://lists.linbit.com/mailman/options/drbd-dev>,
	<mailto:drbd-dev-request@lists.linbit.com?subject=unsubscribe>
List-Archive: <http://lists.linbit.com/pipermail/drbd-dev>
List-Post: <mailto:drbd-dev@lists.linbit.com>
List-Help: <mailto:drbd-dev-request@lists.linbit.com?subject=help>
List-Subscribe: <https://lists.linbit.com/mailman/listinfo/drbd-dev>,
	<mailto:drbd-dev-request@lists.linbit.com?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Sender: drbd-dev-bounces@lists.linbit.com
Errors-To: drbd-dev-bounces@lists.linbit.com

QW0gMDYuMDQuMjIgdW0gMDg6MDUgc2NocmllYiBDaHJpc3RvcGggSGVsbHdpZzoKPiBTZWN1cmUg
ZXJhc2UgaXMgYSB2ZXJ5IGRpZmZlcmVudCBvcGVyYXRpb24gZnJvbSBkaXNjYXJkIGluIHRoYXQg
aXQgaXMKPiBhIGRhdGEgaW50ZWdyaXR5IG9wZXJhdGlvbiB2cyBoaW50LiAgRnVsbHkgc3BsaXQg
dGhlIGxpbWl0cyBhbmQgaGVscGVyCj4gaW5mcmFzdHJ1Y3R1cmUgdG8gbWFrZSB0aGUgc2VwYXJh
dGlvbiBtb3JlIGNsZWFyLgo+IAo+IFNpZ25lZC1vZmYtYnk6IENocmlzdG9waCBIZWxsd2lnIDxo
Y2hAbHN0LmRlPgo+IC0tLQo+ICBibG9jay9ibGstY29yZS5jICAgICAgICAgICAgICAgICAgICB8
ICAyICstCj4gIGJsb2NrL2Jsay1saWIuYyAgICAgICAgICAgICAgICAgICAgIHwgNjQgKysrKysr
KysrKysrKysrKysrKystLS0tLS0tLS0KPiAgYmxvY2svYmxrLW1xLWRlYnVnZnMuYyAgICAgICAg
ICAgICAgfCAgMSAtCj4gIGJsb2NrL2Jsay1zZXR0aW5ncy5jICAgICAgICAgICAgICAgIHwgMTYg
KysrKysrKy0KPiAgYmxvY2svZm9wcy5jICAgICAgICAgICAgICAgICAgICAgICAgfCAgMiArLQo+
ICBibG9jay9pb2N0bC5jICAgICAgICAgICAgICAgICAgICAgICB8IDQzICsrKysrKysrKysrKysr
Ky0tLS0KPiAgZHJpdmVycy9ibG9jay9kcmJkL2RyYmRfcmVjZWl2ZXIuYyAgfCAgNSArKy0KCkZv
ciB0aGUgRFJCRCBwYXJ0OgoKQWNrZWQtYnk6IENocmlzdG9waCBCw7ZobXdhbGRlciA8Y2hyaXN0
b3BoLmJvZWhtd2FsZGVyQGxpbmJpdC5jb20+Cgo+ICBkcml2ZXJzL2Jsb2NrL3JuYmQvcm5iZC1j
bHQuYyAgICAgICB8ICA0ICstCj4gIGRyaXZlcnMvYmxvY2svcm5iZC9ybmJkLXNydi1kZXYuaCAg
IHwgIDIgKy0KPiAgZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay9ibGtiYWNrLmMgfCAxNSArKyst
LS0tCj4gIGRyaXZlcnMvYmxvY2sveGVuLWJsa2JhY2sveGVuYnVzLmMgIHwgIDUgKy0tCj4gIGRy
aXZlcnMvYmxvY2sveGVuLWJsa2Zyb250LmMgICAgICAgIHwgIDUgKystCj4gIGRyaXZlcnMvbWQv
YmNhY2hlL2FsbG9jLmMgICAgICAgICAgIHwgIDIgKy0KPiAgZHJpdmVycy9tZC9kbS10YWJsZS5j
ICAgICAgICAgICAgICAgfCAgOCArKy0tCj4gIGRyaXZlcnMvbWQvZG0tdGhpbi5jICAgICAgICAg
ICAgICAgIHwgIDQgKy0KPiAgZHJpdmVycy9tZC9tZC5jICAgICAgICAgICAgICAgICAgICAgfCAg
MiArLQo+ICBkcml2ZXJzL21kL3JhaWQ1LWNhY2hlLmMgICAgICAgICAgICB8ICA2ICstLQo+ICBk
cml2ZXJzL21tYy9jb3JlL3F1ZXVlLmMgICAgICAgICAgICB8ICAyICstCj4gIGRyaXZlcnMvbnZt
ZS90YXJnZXQvaW8tY21kLWJkZXYuYyAgIHwgIDIgKy0KPiAgZHJpdmVycy90YXJnZXQvdGFyZ2V0
X2NvcmVfZmlsZS5jICAgfCAgMiArLQo+ICBkcml2ZXJzL3RhcmdldC90YXJnZXRfY29yZV9pYmxv
Y2suYyB8ICAyICstCj4gIGZzL2J0cmZzL2V4dGVudC10cmVlLmMgICAgICAgICAgICAgIHwgIDQg
Ky0KPiAgZnMvZXh0NC9tYmFsbG9jLmMgICAgICAgICAgICAgICAgICAgfCAgMiArLQo+ICBmcy9m
MmZzL2ZpbGUuYyAgICAgICAgICAgICAgICAgICAgICB8IDE2ICsrKystLS0tCj4gIGZzL2YyZnMv
c2VnbWVudC5jICAgICAgICAgICAgICAgICAgIHwgIDIgKy0KPiAgZnMvamJkMi9qb3VybmFsLmMg
ICAgICAgICAgICAgICAgICAgfCAgMiArLQo+ICBmcy9uaWxmczIvc3VmaWxlLmMgICAgICAgICAg
ICAgICAgICB8ICA0ICstCj4gIGZzL25pbGZzMi90aGVfbmlsZnMuYyAgICAgICAgICAgICAgIHwg
IDQgKy0KPiAgZnMvbnRmczMvc3VwZXIuYyAgICAgICAgICAgICAgICAgICAgfCAgMiArLQo+ICBm
cy94ZnMveGZzX2Rpc2NhcmQuYyAgICAgICAgICAgICAgICB8ICAyICstCj4gIGZzL3hmcy94ZnNf
bG9nX2NpbC5jICAgICAgICAgICAgICAgIHwgIDIgKy0KPiAgaW5jbHVkZS9saW51eC9ibGtkZXYu
aCAgICAgICAgICAgICAgfCAyNyArKysrKysrLS0tLS0KPiAgbW0vc3dhcGZpbGUuYyAgICAgICAg
ICAgICAgICAgICAgICAgfCAgNiArLS0KPiAgMzMgZmlsZXMgY2hhbmdlZCwgMTY4IGluc2VydGlv
bnMoKyksIDk5IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9ibG9jay9ibGstY29yZS5j
IGIvYmxvY2svYmxrLWNvcmUuYwo+IGluZGV4IGI1YzNhODA0OTEzNGMuLmVlMThiNmE2OTliZGYg
MTAwNjQ0Cj4gLS0tIGEvYmxvY2svYmxrLWNvcmUuYwo+ICsrKyBiL2Jsb2NrL2Jsay1jb3JlLmMK
PiBAQCAtODI0LDcgKzgyNCw3IEBAIHZvaWQgc3VibWl0X2Jpb19ub2FjY3Qoc3RydWN0IGJpbyAq
YmlvKQo+ICAJCQlnb3RvIG5vdF9zdXBwb3J0ZWQ7Cj4gIAkJYnJlYWs7Cj4gIAljYXNlIFJFUV9P
UF9TRUNVUkVfRVJBU0U6Cj4gLQkJaWYgKCFibGtfcXVldWVfc2VjdXJlX2VyYXNlKHEpKQo+ICsJ
CWlmICghYmRldl9tYXhfc2VjdXJlX2VyYXNlX3NlY3RvcnMoYmRldikpCj4gIAkJCWdvdG8gbm90
X3N1cHBvcnRlZDsKPiAgCQlicmVhazsKPiAgCWNhc2UgUkVRX09QX1pPTkVfQVBQRU5EOgo+IGRp
ZmYgLS1naXQgYS9ibG9jay9ibGstbGliLmMgYi9ibG9jay9ibGstbGliLmMKPiBpbmRleCA0M2Fh
NGQ3ZmU4NTlmLi4wOWI3ZTEyMDBjMGY0IDEwMDY0NAo+IC0tLSBhL2Jsb2NrL2Jsay1saWIuYwo+
ICsrKyBiL2Jsb2NrL2Jsay1saWIuYwo+IEBAIC0zNiwyNiArMzYsMTUgQEAgc3RhdGljIHNlY3Rv
cl90IGJpb19kaXNjYXJkX2xpbWl0KHN0cnVjdCBibG9ja19kZXZpY2UgKmJkZXYsIHNlY3Rvcl90
IHNlY3RvcikKPiAgfQo+ICAKPiAgaW50IF9fYmxrZGV2X2lzc3VlX2Rpc2NhcmQoc3RydWN0IGJs
b2NrX2RldmljZSAqYmRldiwgc2VjdG9yX3Qgc2VjdG9yLAo+IC0JCXNlY3Rvcl90IG5yX3NlY3Rz
LCBnZnBfdCBnZnBfbWFzaywgaW50IGZsYWdzLAo+IC0JCXN0cnVjdCBiaW8gKipiaW9wKQo+ICsJ
CXNlY3Rvcl90IG5yX3NlY3RzLCBnZnBfdCBnZnBfbWFzaywgc3RydWN0IGJpbyAqKmJpb3ApCj4g
IHsKPiAtCXN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxID0gYmRldl9nZXRfcXVldWUoYmRldik7Cj4g
IAlzdHJ1Y3QgYmlvICpiaW8gPSAqYmlvcDsKPiAtCXVuc2lnbmVkIGludCBvcDsKPiAgCXNlY3Rv
cl90IGJzX21hc2s7Cj4gIAo+ICAJaWYgKGJkZXZfcmVhZF9vbmx5KGJkZXYpKQo+ICAJCXJldHVy
biAtRVBFUk07Cj4gLQo+IC0JaWYgKGZsYWdzICYgQkxLREVWX0RJU0NBUkRfU0VDVVJFKSB7Cj4g
LQkJaWYgKCFibGtfcXVldWVfc2VjdXJlX2VyYXNlKHEpKQo+IC0JCQlyZXR1cm4gLUVPUE5PVFNV
UFA7Cj4gLQkJb3AgPSBSRVFfT1BfU0VDVVJFX0VSQVNFOwo+IC0JfSBlbHNlIHsKPiAtCQlpZiAo
IWJkZXZfbWF4X2Rpc2NhcmRfc2VjdG9ycyhiZGV2KSkKPiAtCQkJcmV0dXJuIC1FT1BOT1RTVVBQ
Owo+IC0JCW9wID0gUkVRX09QX0RJU0NBUkQ7Cj4gLQl9Cj4gKwlpZiAoIWJkZXZfbWF4X2Rpc2Nh
cmRfc2VjdG9ycyhiZGV2KSkKPiArCQlyZXR1cm4gLUVPUE5PVFNVUFA7Cj4gIAo+ICAJLyogSW4g
Y2FzZSB0aGUgZGlzY2FyZCBncmFudWxhcml0eSBpc24ndCBzZXQgYnkgYnVnZ3kgZGV2aWNlIGRy
aXZlciAqLwo+ICAJaWYgKFdBUk5fT05fT05DRSghYmRldl9kaXNjYXJkX2dyYW51bGFyaXR5KGJk
ZXYpKSkgewo+IEBAIC03Nyw3ICs2Niw3IEBAIGludCBfX2Jsa2Rldl9pc3N1ZV9kaXNjYXJkKHN0
cnVjdCBibG9ja19kZXZpY2UgKmJkZXYsIHNlY3Rvcl90IHNlY3RvciwKPiAgCQlzZWN0b3JfdCBy
ZXFfc2VjdHMgPQo+ICAJCQltaW4obnJfc2VjdHMsIGJpb19kaXNjYXJkX2xpbWl0KGJkZXYsIHNl
Y3RvcikpOwo+ICAKPiAtCQliaW8gPSBibGtfbmV4dF9iaW8oYmlvLCBiZGV2LCAwLCBvcCwgZ2Zw
X21hc2spOwo+ICsJCWJpbyA9IGJsa19uZXh0X2JpbyhiaW8sIGJkZXYsIDAsIFJFUV9PUF9ESVND
QVJELCBnZnBfbWFzayk7Cj4gIAkJYmlvLT5iaV9pdGVyLmJpX3NlY3RvciA9IHNlY3RvcjsKPiAg
CQliaW8tPmJpX2l0ZXIuYmlfc2l6ZSA9IHJlcV9zZWN0cyA8PCA5Owo+ICAJCXNlY3RvciArPSBy
ZXFfc2VjdHM7Cj4gQEAgLTEwMywyMSArOTIsMTkgQEAgRVhQT1JUX1NZTUJPTChfX2Jsa2Rldl9p
c3N1ZV9kaXNjYXJkKTsKPiAgICogQHNlY3RvcjoJc3RhcnQgc2VjdG9yCj4gICAqIEBucl9zZWN0
czoJbnVtYmVyIG9mIHNlY3RvcnMgdG8gZGlzY2FyZAo+ICAgKiBAZ2ZwX21hc2s6CW1lbW9yeSBh
bGxvY2F0aW9uIGZsYWdzIChmb3IgYmlvX2FsbG9jKQo+IC0gKiBAZmxhZ3M6CUJMS0RFVl9ESVND
QVJEXyogZmxhZ3MgdG8gY29udHJvbCBiZWhhdmlvdXIKPiAgICoKPiAgICogRGVzY3JpcHRpb246
Cj4gICAqICAgIElzc3VlIGEgZGlzY2FyZCByZXF1ZXN0IGZvciB0aGUgc2VjdG9ycyBpbiBxdWVz
dGlvbi4KPiAgICovCj4gIGludCBibGtkZXZfaXNzdWVfZGlzY2FyZChzdHJ1Y3QgYmxvY2tfZGV2
aWNlICpiZGV2LCBzZWN0b3JfdCBzZWN0b3IsCj4gLQkJc2VjdG9yX3QgbnJfc2VjdHMsIGdmcF90
IGdmcF9tYXNrLCB1bnNpZ25lZCBsb25nIGZsYWdzKQo+ICsJCXNlY3Rvcl90IG5yX3NlY3RzLCBn
ZnBfdCBnZnBfbWFzaykKPiAgewo+ICAJc3RydWN0IGJpbyAqYmlvID0gTlVMTDsKPiAgCXN0cnVj
dCBibGtfcGx1ZyBwbHVnOwo+ICAJaW50IHJldDsKPiAgCj4gIAlibGtfc3RhcnRfcGx1ZygmcGx1
Zyk7Cj4gLQlyZXQgPSBfX2Jsa2Rldl9pc3N1ZV9kaXNjYXJkKGJkZXYsIHNlY3RvciwgbnJfc2Vj
dHMsIGdmcF9tYXNrLCBmbGFncywKPiAtCQkJJmJpbyk7Cj4gKwlyZXQgPSBfX2Jsa2Rldl9pc3N1
ZV9kaXNjYXJkKGJkZXYsIHNlY3RvciwgbnJfc2VjdHMsIGdmcF9tYXNrLCAmYmlvKTsKPiAgCWlm
ICghcmV0ICYmIGJpbykgewo+ICAJCXJldCA9IHN1Ym1pdF9iaW9fd2FpdChiaW8pOwo+ICAJCWlm
IChyZXQgPT0gLUVPUE5PVFNVUFApCj4gQEAgLTMxNCwzICszMDEsNDIgQEAgaW50IGJsa2Rldl9p
c3N1ZV96ZXJvb3V0KHN0cnVjdCBibG9ja19kZXZpY2UgKmJkZXYsIHNlY3Rvcl90IHNlY3RvciwK
PiAgCXJldHVybiByZXQ7Cj4gIH0KPiAgRVhQT1JUX1NZTUJPTChibGtkZXZfaXNzdWVfemVyb291
dCk7Cj4gKwo+ICtpbnQgYmxrZGV2X2lzc3VlX3NlY3VyZV9lcmFzZShzdHJ1Y3QgYmxvY2tfZGV2
aWNlICpiZGV2LCBzZWN0b3JfdCBzZWN0b3IsCj4gKwkJc2VjdG9yX3QgbnJfc2VjdHMsIGdmcF90
IGdmcCkKPiArewo+ICsJc2VjdG9yX3QgYnNfbWFzayA9IChiZGV2X2xvZ2ljYWxfYmxvY2tfc2l6
ZShiZGV2KSA+PiA5KSAtIDE7Cj4gKwl1bnNpZ25lZCBpbnQgbWF4X3NlY3RvcnMgPSBiZGV2X21h
eF9zZWN1cmVfZXJhc2Vfc2VjdG9ycyhiZGV2KTsKPiArCXN0cnVjdCBiaW8gKmJpbyA9IE5VTEw7
Cj4gKwlzdHJ1Y3QgYmxrX3BsdWcgcGx1ZzsKPiArCWludCByZXQgPSAwOwo+ICsKPiArCWlmICht
YXhfc2VjdG9ycyA9PSAwKQo+ICsJCXJldHVybiAtRU9QTk9UU1VQUDsKPiArCWlmICgoc2VjdG9y
IHwgbnJfc2VjdHMpICYgYnNfbWFzaykKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCWlmIChiZGV2
X3JlYWRfb25seShiZGV2KSkKPiArCQlyZXR1cm4gLUVQRVJNOwo+ICsKPiArCWJsa19zdGFydF9w
bHVnKCZwbHVnKTsKPiArCWZvciAoOzspIHsKPiArCQl1bnNpZ25lZCBpbnQgbGVuID0gbWluX3Qo
c2VjdG9yX3QsIG5yX3NlY3RzLCBtYXhfc2VjdG9ycyk7Cj4gKwo+ICsJCWJpbyA9IGJsa19uZXh0
X2JpbyhiaW8sIGJkZXYsIDAsIFJFUV9PUF9TRUNVUkVfRVJBU0UsIGdmcCk7Cj4gKwkJYmlvLT5i
aV9pdGVyLmJpX3NlY3RvciA9IHNlY3RvcjsKPiArCQliaW8tPmJpX2l0ZXIuYmlfc2l6ZSA9IGxl
bjsKPiArCj4gKwkJc2VjdG9yICs9IGxlbiA8PCBTRUNUT1JfU0hJRlQ7Cj4gKwkJbnJfc2VjdHMg
LT0gbGVuIDw8IFNFQ1RPUl9TSElGVDsKPiArCQlpZiAoIW5yX3NlY3RzKSB7Cj4gKwkJCXJldCA9
IHN1Ym1pdF9iaW9fd2FpdChiaW8pOwo+ICsJCQliaW9fcHV0KGJpbyk7Cj4gKwkJCWJyZWFrOwo+
ICsJCX0KPiArCQljb25kX3Jlc2NoZWQoKTsKPiArCX0KPiArCWJsa19maW5pc2hfcGx1ZygmcGx1
Zyk7Cj4gKwo+ICsJcmV0dXJuIHJldDsKPiArfQo+ICtFWFBPUlRfU1lNQk9MKGJsa2Rldl9pc3N1
ZV9zZWN1cmVfZXJhc2UpOwo+IGRpZmYgLS1naXQgYS9ibG9jay9ibGstbXEtZGVidWdmcy5jIGIv
YmxvY2svYmxrLW1xLWRlYnVnZnMuYwo+IGluZGV4IGZkMTExYzUwMDEyNTYuLjdlNDEzNmE2MGUx
Y2MgMTAwNjQ0Cj4gLS0tIGEvYmxvY2svYmxrLW1xLWRlYnVnZnMuYwo+ICsrKyBiL2Jsb2NrL2Js
ay1tcS1kZWJ1Z2ZzLmMKPiBAQCAtMTE1LDcgKzExNSw2IEBAIHN0YXRpYyBjb25zdCBjaGFyICpj
b25zdCBibGtfcXVldWVfZmxhZ19uYW1lW10gPSB7Cj4gIAlRVUVVRV9GTEFHX05BTUUoSU9fU1RB
VCksCj4gIAlRVUVVRV9GTEFHX05BTUUoTk9YTUVSR0VTKSwKPiAgCVFVRVVFX0ZMQUdfTkFNRShB
RERfUkFORE9NKSwKPiAtCVFVRVVFX0ZMQUdfTkFNRShTRUNFUkFTRSksCj4gIAlRVUVVRV9GTEFH
X05BTUUoU0FNRV9GT1JDRSksCj4gIAlRVUVVRV9GTEFHX05BTUUoREVBRCksCj4gIAlRVUVVRV9G
TEFHX05BTUUoSU5JVF9ET05FKSwKPiBkaWZmIC0tZ2l0IGEvYmxvY2svYmxrLXNldHRpbmdzLmMg
Yi9ibG9jay9ibGstc2V0dGluZ3MuYwo+IGluZGV4IGZkODNkNjc0YWZkMGEuLjZjY2NlYjQyMWVk
MmYgMTAwNjQ0Cj4gLS0tIGEvYmxvY2svYmxrLXNldHRpbmdzLmMKPiArKysgYi9ibG9jay9ibGst
c2V0dGluZ3MuYwo+IEBAIC00Niw2ICs0Niw3IEBAIHZvaWQgYmxrX3NldF9kZWZhdWx0X2xpbWl0
cyhzdHJ1Y3QgcXVldWVfbGltaXRzICpsaW0pCj4gIAlsaW0tPm1heF96b25lX2FwcGVuZF9zZWN0
b3JzID0gMDsKPiAgCWxpbS0+bWF4X2Rpc2NhcmRfc2VjdG9ycyA9IDA7Cj4gIAlsaW0tPm1heF9o
d19kaXNjYXJkX3NlY3RvcnMgPSAwOwo+ICsJbGltLT5tYXhfc2VjdXJlX2VyYXNlX3NlY3RvcnMg
PSAwOwo+ICAJbGltLT5kaXNjYXJkX2dyYW51bGFyaXR5ID0gMDsKPiAgCWxpbS0+ZGlzY2FyZF9h
bGlnbm1lbnQgPSAwOwo+ICAJbGltLT5kaXNjYXJkX21pc2FsaWduZWQgPSAwOwo+IEBAIC0xNzYs
NiArMTc3LDE4IEBAIHZvaWQgYmxrX3F1ZXVlX21heF9kaXNjYXJkX3NlY3RvcnMoc3RydWN0IHJl
cXVlc3RfcXVldWUgKnEsCj4gIH0KPiAgRVhQT1JUX1NZTUJPTChibGtfcXVldWVfbWF4X2Rpc2Nh
cmRfc2VjdG9ycyk7Cj4gIAo+ICsvKioKPiArICogYmxrX3F1ZXVlX21heF9zZWN1cmVfZXJhc2Vf
c2VjdG9ycyAtIHNldCBtYXggc2VjdG9ycyBmb3IgYSBzZWN1cmUgZXJhc2UKPiArICogQHE6ICB0
aGUgcmVxdWVzdCBxdWV1ZSBmb3IgdGhlIGRldmljZQo+ICsgKiBAbWF4X3NlY3RvcnM6IG1heGlt
dW0gbnVtYmVyIG9mIHNlY3RvcnMgdG8gc2VjdXJlX2VyYXNlCj4gKyAqKi8KPiArdm9pZCBibGtf
cXVldWVfbWF4X3NlY3VyZV9lcmFzZV9zZWN0b3JzKHN0cnVjdCByZXF1ZXN0X3F1ZXVlICpxLAo+
ICsJCXVuc2lnbmVkIGludCBtYXhfc2VjdG9ycykKPiArewo+ICsJcS0+bGltaXRzLm1heF9zZWN1
cmVfZXJhc2Vfc2VjdG9ycyA9IG1heF9zZWN0b3JzOwo+ICt9Cj4gK0VYUE9SVF9TWU1CT0woYmxr
X3F1ZXVlX21heF9zZWN1cmVfZXJhc2Vfc2VjdG9ycyk7Cj4gKwo+ICAvKioKPiAgICogYmxrX3F1
ZXVlX21heF93cml0ZV96ZXJvZXNfc2VjdG9ycyAtIHNldCBtYXggc2VjdG9ycyBmb3IgYSBzaW5n
bGUKPiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlIHplcm9l
cwo+IEBAIC02NjEsNyArNjc0LDggQEAgaW50IGJsa19zdGFja19saW1pdHMoc3RydWN0IHF1ZXVl
X2xpbWl0cyAqdCwgc3RydWN0IHF1ZXVlX2xpbWl0cyAqYiwKPiAgCQl0LT5kaXNjYXJkX2FsaWdu
bWVudCA9IGxjbV9ub3RfemVybyh0LT5kaXNjYXJkX2FsaWdubWVudCwgYWxpZ25tZW50KSAlCj4g
IAkJCXQtPmRpc2NhcmRfZ3JhbnVsYXJpdHk7Cj4gIAl9Cj4gLQo+ICsJdC0+bWF4X3NlY3VyZV9l
cmFzZV9zZWN0b3JzID0gbWluX25vdF96ZXJvKHQtPm1heF9zZWN1cmVfZXJhc2Vfc2VjdG9ycywK
PiArCQkJCQkJICAgYi0+bWF4X3NlY3VyZV9lcmFzZV9zZWN0b3JzKTsKPiAgCXQtPnpvbmVfd3Jp
dGVfZ3JhbnVsYXJpdHkgPSBtYXgodC0+em9uZV93cml0ZV9ncmFudWxhcml0eSwKPiAgCQkJCQli
LT56b25lX3dyaXRlX2dyYW51bGFyaXR5KTsKPiAgCXQtPnpvbmVkID0gbWF4KHQtPnpvbmVkLCBi
LT56b25lZCk7Cj4gZGlmZiAtLWdpdCBhL2Jsb2NrL2ZvcHMuYyBiL2Jsb2NrL2ZvcHMuYwo+IGlu
ZGV4IDlmMmVjZWM0MDZiMDQuLmMwY2EzMjU0ZDM4Y2YgMTAwNjQ0Cj4gLS0tIGEvYmxvY2svZm9w
cy5jCj4gKysrIGIvYmxvY2svZm9wcy5jCj4gQEAgLTY3Miw3ICs2NzIsNyBAQCBzdGF0aWMgbG9u
ZyBibGtkZXZfZmFsbG9jYXRlKHN0cnVjdCBmaWxlICpmaWxlLCBpbnQgbW9kZSwgbG9mZl90IHN0
YXJ0LAo+ICAJCWJyZWFrOwo+ICAJY2FzZSBGQUxMT0NfRkxfUFVOQ0hfSE9MRSB8IEZBTExPQ19G
TF9LRUVQX1NJWkUgfCBGQUxMT0NfRkxfTk9fSElERV9TVEFMRToKPiAgCQllcnJvciA9IGJsa2Rl
dl9pc3N1ZV9kaXNjYXJkKGJkZXYsIHN0YXJ0ID4+IFNFQ1RPUl9TSElGVCwKPiAtCQkJCQkgICAg
IGxlbiA+PiBTRUNUT1JfU0hJRlQsIEdGUF9LRVJORUwsIDApOwo+ICsJCQkJCSAgICAgbGVuID4+
IFNFQ1RPUl9TSElGVCwgR0ZQX0tFUk5FTCk7Cj4gIAkJYnJlYWs7Cj4gIAlkZWZhdWx0Ogo+ICAJ
CWVycm9yID0gLUVPUE5PVFNVUFA7Cj4gZGlmZiAtLWdpdCBhL2Jsb2NrL2lvY3RsLmMgYi9ibG9j
ay9pb2N0bC5jCj4gaW5kZXggYzJjZDNiYTUyOTBjZS4uNWI1MDI3ZmE3OGY3ZSAxMDA2NDQKPiAt
LS0gYS9ibG9jay9pb2N0bC5jCj4gKysrIGIvYmxvY2svaW9jdGwuYwo+IEBAIC04Myw3ICs4Myw3
IEBAIHN0YXRpYyBpbnQgY29tcGF0X2Jsa3BnX2lvY3RsKHN0cnVjdCBibG9ja19kZXZpY2UgKmJk
ZXYsCj4gICNlbmRpZgo+ICAKPiAgc3RhdGljIGludCBibGtfaW9jdGxfZGlzY2FyZChzdHJ1Y3Qg
YmxvY2tfZGV2aWNlICpiZGV2LCBmbW9kZV90IG1vZGUsCj4gLQkJdW5zaWduZWQgbG9uZyBhcmcs
IHVuc2lnbmVkIGxvbmcgZmxhZ3MpCj4gKwkJdW5zaWduZWQgbG9uZyBhcmcpCj4gIHsKPiAgCXVp
bnQ2NF90IHJhbmdlWzJdOwo+ICAJdWludDY0X3Qgc3RhcnQsIGxlbjsKPiBAQCAtMTE0LDE1ICsx
MTQsNDMgQEAgc3RhdGljIGludCBibGtfaW9jdGxfZGlzY2FyZChzdHJ1Y3QgYmxvY2tfZGV2aWNl
ICpiZGV2LCBmbW9kZV90IG1vZGUsCj4gIAllcnIgPSB0cnVuY2F0ZV9iZGV2X3JhbmdlKGJkZXYs
IG1vZGUsIHN0YXJ0LCBzdGFydCArIGxlbiAtIDEpOwo+ICAJaWYgKGVycikKPiAgCQlnb3RvIGZh
aWw7Cj4gLQo+IC0JZXJyID0gYmxrZGV2X2lzc3VlX2Rpc2NhcmQoYmRldiwgc3RhcnQgPj4gOSwg
bGVuID4+IDksCj4gLQkJCQkgICBHRlBfS0VSTkVMLCBmbGFncyk7Cj4gLQo+ICsJZXJyID0gYmxr
ZGV2X2lzc3VlX2Rpc2NhcmQoYmRldiwgc3RhcnQgPj4gOSwgbGVuID4+IDksIEdGUF9LRVJORUwp
Owo+ICBmYWlsOgo+ICAJZmlsZW1hcF9pbnZhbGlkYXRlX3VubG9jayhpbm9kZS0+aV9tYXBwaW5n
KTsKPiAgCXJldHVybiBlcnI7Cj4gIH0KPiAgCj4gK3N0YXRpYyBpbnQgYmxrX2lvY3RsX3NlY3Vy
ZV9lcmFzZShzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2LCBmbW9kZV90IG1vZGUsCj4gKwkJdm9p
ZCBfX3VzZXIgKmFyZ3ApCj4gK3sKPiArCXVpbnQ2NF90IHN0YXJ0LCBsZW47Cj4gKwl1aW50NjRf
dCByYW5nZVsyXTsKPiArCWludCBlcnI7Cj4gKwo+ICsJaWYgKCEobW9kZSAmIEZNT0RFX1dSSVRF
KSkKPiArCQlyZXR1cm4gLUVCQURGOwo+ICsJaWYgKCFiZGV2X21heF9zZWN1cmVfZXJhc2Vfc2Vj
dG9ycyhiZGV2KSkKPiArCQlyZXR1cm4gLUVPUE5PVFNVUFA7Cj4gKwlpZiAoY29weV9mcm9tX3Vz
ZXIocmFuZ2UsIGFyZ3AsIHNpemVvZihyYW5nZSkpKQo+ICsJCXJldHVybiAtRUZBVUxUOwo+ICsK
PiArCXN0YXJ0ID0gcmFuZ2VbMF07Cj4gKwlsZW4gPSByYW5nZVsxXTsKPiArCWlmICgoc3RhcnQg
JiA1MTEpIHx8IChsZW4gJiA1MTEpKQo+ICsJCXJldHVybiAtRUlOVkFMOwo+ICsJaWYgKHN0YXJ0
ICsgbGVuID4gYmRldl9ucl9ieXRlcyhiZGV2KSkKPiArCQlyZXR1cm4gLUVJTlZBTDsKPiArCj4g
KwlmaWxlbWFwX2ludmFsaWRhdGVfbG9jayhiZGV2LT5iZF9pbm9kZS0+aV9tYXBwaW5nKTsKPiAr
CWVyciA9IHRydW5jYXRlX2JkZXZfcmFuZ2UoYmRldiwgbW9kZSwgc3RhcnQsIHN0YXJ0ICsgbGVu
IC0gMSk7Cj4gKwlpZiAoIWVycikKPiArCQllcnIgPSBibGtkZXZfaXNzdWVfc2VjdXJlX2VyYXNl
KGJkZXYsIHN0YXJ0ID4+IDksIGxlbiA+PiA5LAo+ICsJCQkJCQlHRlBfS0VSTkVMKTsKPiArCWZp
bGVtYXBfaW52YWxpZGF0ZV91bmxvY2soYmRldi0+YmRfaW5vZGUtPmlfbWFwcGluZyk7Cj4gKwly
ZXR1cm4gZXJyOwo+ICt9Cj4gKwo+ICsKPiAgc3RhdGljIGludCBibGtfaW9jdGxfemVyb291dChz
dHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2LCBmbW9kZV90IG1vZGUsCj4gIAkJdW5zaWduZWQgbG9u
ZyBhcmcpCj4gIHsKPiBAQCAtNDUwLDEwICs0NzgsOSBAQCBzdGF0aWMgaW50IGJsa2Rldl9jb21t
b25faW9jdGwoc3RydWN0IGJsb2NrX2RldmljZSAqYmRldiwgZm1vZGVfdCBtb2RlLAo+ICAJY2Fz
ZSBCTEtST1NFVDoKPiAgCQlyZXR1cm4gYmxrZGV2X3Jvc2V0KGJkZXYsIG1vZGUsIGNtZCwgYXJn
KTsKPiAgCWNhc2UgQkxLRElTQ0FSRDoKPiAtCQlyZXR1cm4gYmxrX2lvY3RsX2Rpc2NhcmQoYmRl
diwgbW9kZSwgYXJnLCAwKTsKPiArCQlyZXR1cm4gYmxrX2lvY3RsX2Rpc2NhcmQoYmRldiwgbW9k
ZSwgYXJnKTsKPiAgCWNhc2UgQkxLU0VDRElTQ0FSRDoKPiAtCQlyZXR1cm4gYmxrX2lvY3RsX2Rp
c2NhcmQoYmRldiwgbW9kZSwgYXJnLAo+IC0JCQkJQkxLREVWX0RJU0NBUkRfU0VDVVJFKTsKPiAr
CQlyZXR1cm4gYmxrX2lvY3RsX3NlY3VyZV9lcmFzZShiZGV2LCBtb2RlLCBhcmdwKTsKPiAgCWNh
c2UgQkxLWkVST09VVDoKPiAgCQlyZXR1cm4gYmxrX2lvY3RsX3plcm9vdXQoYmRldiwgbW9kZSwg
YXJnKTsKPiAgCWNhc2UgQkxLR0VURElTS1NFUToKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ibG9j
ay9kcmJkL2RyYmRfcmVjZWl2ZXIuYyBiL2RyaXZlcnMvYmxvY2svZHJiZC9kcmJkX3JlY2VpdmVy
LmMKPiBpbmRleCAyNzVjNTNjN2I2MjllLi4yOTU3YjBiNjhkNjAwIDEwMDY0NAo+IC0tLSBhL2Ry
aXZlcnMvYmxvY2svZHJiZC9kcmJkX3JlY2VpdmVyLmMKPiArKysgYi9kcml2ZXJzL2Jsb2NrL2Ry
YmQvZHJiZF9yZWNlaXZlci5jCj4gQEAgLTE1NDcsNyArMTU0Nyw4IEBAIGludCBkcmJkX2lzc3Vl
X2Rpc2NhcmRfb3JfemVyb19vdXQoc3RydWN0IGRyYmRfZGV2aWNlICpkZXZpY2UsIHNlY3Rvcl90
IHN0YXJ0LCB1Cj4gIAkJc3RhcnQgPSB0bXA7Cj4gIAl9Cj4gIAl3aGlsZSAobnJfc2VjdG9ycyA+
PSBtYXhfZGlzY2FyZF9zZWN0b3JzKSB7Cj4gLQkJZXJyIHw9IGJsa2Rldl9pc3N1ZV9kaXNjYXJk
KGJkZXYsIHN0YXJ0LCBtYXhfZGlzY2FyZF9zZWN0b3JzLCBHRlBfTk9JTywgMCk7Cj4gKwkJZXJy
IHw9IGJsa2Rldl9pc3N1ZV9kaXNjYXJkKGJkZXYsIHN0YXJ0LCBtYXhfZGlzY2FyZF9zZWN0b3Jz
LAo+ICsJCQkJCSAgICBHRlBfTk9JTyk7Cj4gIAkJbnJfc2VjdG9ycyAtPSBtYXhfZGlzY2FyZF9z
ZWN0b3JzOwo+ICAJCXN0YXJ0ICs9IG1heF9kaXNjYXJkX3NlY3RvcnM7Cj4gIAl9Cj4gQEAgLTE1
NTksNyArMTU2MCw3IEBAIGludCBkcmJkX2lzc3VlX2Rpc2NhcmRfb3JfemVyb19vdXQoc3RydWN0
IGRyYmRfZGV2aWNlICpkZXZpY2UsIHNlY3Rvcl90IHN0YXJ0LCB1Cj4gIAkJbnIgPSBucl9zZWN0
b3JzOwo+ICAJCW5yIC09ICh1bnNpZ25lZCBpbnQpbnIgJSBncmFudWxhcml0eTsKPiAgCQlpZiAo
bnIpIHsKPiAtCQkJZXJyIHw9IGJsa2Rldl9pc3N1ZV9kaXNjYXJkKGJkZXYsIHN0YXJ0LCBuciwg
R0ZQX05PSU8sIDApOwo+ICsJCQllcnIgfD0gYmxrZGV2X2lzc3VlX2Rpc2NhcmQoYmRldiwgc3Rh
cnQsIG5yLCBHRlBfTk9JTyk7Cj4gIAkJCW5yX3NlY3RvcnMgLT0gbnI7Cj4gIAkJCXN0YXJ0ICs9
IG5yOwo+ICAJCX0KPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ibG9jay9ybmJkL3JuYmQtY2x0LmMg
Yi9kcml2ZXJzL2Jsb2NrL3JuYmQvcm5iZC1jbHQuYwo+IGluZGV4IGVmYTk5YTM4ODQ1MDcuLmQx
NzhiZTE3NWFkOTkgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ibG9jay9ybmJkL3JuYmQtY2x0LmMK
PiArKysgYi9kcml2ZXJzL2Jsb2NrL3JuYmQvcm5iZC1jbHQuYwo+IEBAIC0xMzY1LDggKzEzNjUs
OCBAQCBzdGF0aWMgdm9pZCBzZXR1cF9yZXF1ZXN0X3F1ZXVlKHN0cnVjdCBybmJkX2NsdF9kZXYg
KmRldikKPiAgCWRldi0+cXVldWUtPmxpbWl0cy5kaXNjYXJkX2dyYW51bGFyaXR5CT0gZGV2LT5k
aXNjYXJkX2dyYW51bGFyaXR5Owo+ICAJZGV2LT5xdWV1ZS0+bGltaXRzLmRpc2NhcmRfYWxpZ25t
ZW50CT0gZGV2LT5kaXNjYXJkX2FsaWdubWVudDsKPiAgCWlmIChkZXYtPnNlY3VyZV9kaXNjYXJk
KQo+IC0JCWJsa19xdWV1ZV9mbGFnX3NldChRVUVVRV9GTEFHX1NFQ0VSQVNFLCBkZXYtPnF1ZXVl
KTsKPiAtCj4gKwkJYmxrX3F1ZXVlX21heF9zZWN1cmVfZXJhc2Vfc2VjdG9ycyhkZXYtPnF1ZXVl
LAo+ICsJCQkJZGV2LT5tYXhfZGlzY2FyZF9zZWN0b3JzKTsKPiAgCWJsa19xdWV1ZV9mbGFnX3Nl
dChRVUVVRV9GTEFHX1NBTUVfQ09NUCwgZGV2LT5xdWV1ZSk7Cj4gIAlibGtfcXVldWVfZmxhZ19z
ZXQoUVVFVUVfRkxBR19TQU1FX0ZPUkNFLCBkZXYtPnF1ZXVlKTsKPiAgCWJsa19xdWV1ZV9tYXhf
c2VnbWVudHMoZGV2LT5xdWV1ZSwgZGV2LT5tYXhfc2VnbWVudHMpOwo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL2Jsb2NrL3JuYmQvcm5iZC1zcnYtZGV2LmggYi9kcml2ZXJzL2Jsb2NrL3JuYmQvcm5i
ZC1zcnYtZGV2LmgKPiBpbmRleCAxZjdlMWM4ZmQ0ZDliLi5kMDgwYTBkZTU5MjI1IDEwMDY0NAo+
IC0tLSBhL2RyaXZlcnMvYmxvY2svcm5iZC9ybmJkLXNydi1kZXYuaAo+ICsrKyBiL2RyaXZlcnMv
YmxvY2svcm5iZC9ybmJkLXNydi1kZXYuaAo+IEBAIC00NCw3ICs0NCw3IEBAIHN0YXRpYyBpbmxp
bmUgaW50IHJuYmRfZGV2X2dldF9tYXhfaHdfc2VjdHMoY29uc3Qgc3RydWN0IHJuYmRfZGV2ICpk
ZXYpCj4gIAo+ICBzdGF0aWMgaW5saW5lIGludCBybmJkX2Rldl9nZXRfc2VjdXJlX2Rpc2NhcmQo
Y29uc3Qgc3RydWN0IHJuYmRfZGV2ICpkZXYpCj4gIHsKPiAtCXJldHVybiBibGtfcXVldWVfc2Vj
dXJlX2VyYXNlKGJkZXZfZ2V0X3F1ZXVlKGRldi0+YmRldikpOwo+ICsJcmV0dXJuIGJkZXZfbWF4
X3NlY3VyZV9lcmFzZV9zZWN0b3JzKGRldi0+YmRldik7Cj4gIH0KPiAgCj4gIHN0YXRpYyBpbmxp
bmUgaW50IHJuYmRfZGV2X2dldF9tYXhfZGlzY2FyZF9zZWN0cyhjb25zdCBzdHJ1Y3Qgcm5iZF9k
ZXYgKmRldikKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9ibG9jay94ZW4tYmxrYmFjay9ibGtiYWNr
LmMgYi9kcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2Jsa2JhY2suYwo+IGluZGV4IGRlNDI0NTgx
OTViYzEuLmE5N2YyYmY1YjAxYjkgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9ibG9jay94ZW4tYmxr
YmFjay9ibGtiYWNrLmMKPiArKysgYi9kcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL2Jsa2JhY2su
Ywo+IEBAIC05NzAsNyArOTcwLDYgQEAgc3RhdGljIGludCBkaXNwYXRjaF9kaXNjYXJkX2lvKHN0
cnVjdCB4ZW5fYmxraWZfcmluZyAqcmluZywKPiAgCWludCBzdGF0dXMgPSBCTEtJRl9SU1BfT0tB
WTsKPiAgCXN0cnVjdCB4ZW5fYmxraWYgKmJsa2lmID0gcmluZy0+YmxraWY7Cj4gIAlzdHJ1Y3Qg
YmxvY2tfZGV2aWNlICpiZGV2ID0gYmxraWYtPnZiZC5iZGV2Owo+IC0JdW5zaWduZWQgbG9uZyBz
ZWN1cmU7Cj4gIAlzdHJ1Y3QgcGh5c19yZXEgcHJlcTsKPiAgCj4gIAl4ZW5fYmxraWZfZ2V0KGJs
a2lmKTsKPiBAQCAtOTg3LDEzICs5ODYsMTUgQEAgc3RhdGljIGludCBkaXNwYXRjaF9kaXNjYXJk
X2lvKHN0cnVjdCB4ZW5fYmxraWZfcmluZyAqcmluZywKPiAgCX0KPiAgCXJpbmctPnN0X2RzX3Jl
cSsrOwo+ICAKPiAtCXNlY3VyZSA9IChibGtpZi0+dmJkLmRpc2NhcmRfc2VjdXJlICYmCj4gLQkJ
IChyZXEtPnUuZGlzY2FyZC5mbGFnICYgQkxLSUZfRElTQ0FSRF9TRUNVUkUpKSA/Cj4gLQkJIEJM
S0RFVl9ESVNDQVJEX1NFQ1VSRSA6IDA7Cj4gKwlpZiAoYmxraWYtPnZiZC5kaXNjYXJkX3NlY3Vy
ZSAmJgo+ICsJICAgIChyZXEtPnUuZGlzY2FyZC5mbGFnICYgQkxLSUZfRElTQ0FSRF9TRUNVUkUp
KQo+ICsJCWVyciA9IGJsa2Rldl9pc3N1ZV9zZWN1cmVfZXJhc2UoYmRldiwKPiArCQkJCXJlcS0+
dS5kaXNjYXJkLnNlY3Rvcl9udW1iZXIsCj4gKwkJCQlyZXEtPnUuZGlzY2FyZC5ucl9zZWN0b3Jz
LCBHRlBfS0VSTkVMKTsKPiArCWVsc2UKPiArCQllcnIgPSBibGtkZXZfaXNzdWVfZGlzY2FyZChi
ZGV2LCByZXEtPnUuZGlzY2FyZC5zZWN0b3JfbnVtYmVyLAo+ICsJCQkJcmVxLT51LmRpc2NhcmQu
bnJfc2VjdG9ycywgR0ZQX0tFUk5FTCk7Cj4gIAo+IC0JZXJyID0gYmxrZGV2X2lzc3VlX2Rpc2Nh
cmQoYmRldiwgcmVxLT51LmRpc2NhcmQuc2VjdG9yX251bWJlciwKPiAtCQkJCSAgIHJlcS0+dS5k
aXNjYXJkLm5yX3NlY3RvcnMsCj4gLQkJCQkgICBHRlBfS0VSTkVMLCBzZWN1cmUpOwo+ICBmYWls
X3Jlc3BvbnNlOgo+ICAJaWYgKGVyciA9PSAtRU9QTk9UU1VQUCkgewo+ICAJCXByX2RlYnVnKCJk
aXNjYXJkIG9wIGZhaWxlZCwgbm90IHN1cHBvcnRlZFxuIik7Cj4gZGlmZiAtLWdpdCBhL2RyaXZl
cnMvYmxvY2sveGVuLWJsa2JhY2sveGVuYnVzLmMgYi9kcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNr
L3hlbmJ1cy5jCj4gaW5kZXggODNjZDA4MDQxZTZiMy4uYjIxYmZmYzljNTBiYyAxMDA2NDQKPiAt
LS0gYS9kcml2ZXJzL2Jsb2NrL3hlbi1ibGtiYWNrL3hlbmJ1cy5jCj4gKysrIGIvZHJpdmVycy9i
bG9jay94ZW4tYmxrYmFjay94ZW5idXMuYwo+IEBAIC00ODQsNyArNDg0LDYgQEAgc3RhdGljIGlu
dCB4ZW5fdmJkX2NyZWF0ZShzdHJ1Y3QgeGVuX2Jsa2lmICpibGtpZiwgYmxraWZfdmRldl90IGhh
bmRsZSwKPiAgewo+ICAJc3RydWN0IHhlbl92YmQgKnZiZDsKPiAgCXN0cnVjdCBibG9ja19kZXZp
Y2UgKmJkZXY7Cj4gLQlzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcTsKPiAgCj4gIAl2YmQgPSAmYmxr
aWYtPnZiZDsKPiAgCXZiZC0+aGFuZGxlICAgPSBoYW5kbGU7Cj4gQEAgLTUxNiwxMSArNTE1LDkg
QEAgc3RhdGljIGludCB4ZW5fdmJkX2NyZWF0ZShzdHJ1Y3QgeGVuX2Jsa2lmICpibGtpZiwgYmxr
aWZfdmRldl90IGhhbmRsZSwKPiAgCWlmICh2YmQtPmJkZXYtPmJkX2Rpc2stPmZsYWdzICYgR0VO
SERfRkxfUkVNT1ZBQkxFKQo+ICAJCXZiZC0+dHlwZSB8PSBWRElTS19SRU1PVkFCTEU7Cj4gIAo+
IC0JcSA9IGJkZXZfZ2V0X3F1ZXVlKGJkZXYpOwo+ICAJaWYgKGJkZXZfd3JpdGVfY2FjaGUoYmRl
dikpCj4gIAkJdmJkLT5mbHVzaF9zdXBwb3J0ID0gdHJ1ZTsKPiAtCj4gLQlpZiAocSAmJiBibGtf
cXVldWVfc2VjdXJlX2VyYXNlKHEpKQo+ICsJaWYgKGJkZXZfbWF4X3NlY3VyZV9lcmFzZV9zZWN0
b3JzKGJkZXYpKQo+ICAJCXZiZC0+ZGlzY2FyZF9zZWN1cmUgPSB0cnVlOwo+ICAKPiAgCXZiZC0+
ZmVhdHVyZV9nbnRfcGVyc2lzdGVudCA9IGZlYXR1cmVfcGVyc2lzdGVudDsKPiBkaWZmIC0tZ2l0
IGEvZHJpdmVycy9ibG9jay94ZW4tYmxrZnJvbnQuYyBiL2RyaXZlcnMvYmxvY2sveGVuLWJsa2Zy
b250LmMKPiBpbmRleCAyNTNiZjgzNWFjYTFmLi45ZmI3YzY5ZjcyYjJkIDEwMDY0NAo+IC0tLSBh
L2RyaXZlcnMvYmxvY2sveGVuLWJsa2Zyb250LmMKPiArKysgYi9kcml2ZXJzL2Jsb2NrL3hlbi1i
bGtmcm9udC5jCj4gQEAgLTk0OSw3ICs5NDksOCBAQCBzdGF0aWMgdm9pZCBibGtpZl9zZXRfcXVl
dWVfbGltaXRzKHN0cnVjdCBibGtmcm9udF9pbmZvICppbmZvKQo+ICAJCQkJCQkgaW5mby0+cGh5
c2ljYWxfc2VjdG9yX3NpemU7Cj4gIAkJcnEtPmxpbWl0cy5kaXNjYXJkX2FsaWdubWVudCA9IGlu
Zm8tPmRpc2NhcmRfYWxpZ25tZW50Owo+ICAJCWlmIChpbmZvLT5mZWF0dXJlX3NlY2Rpc2NhcmQp
Cj4gLQkJCWJsa19xdWV1ZV9mbGFnX3NldChRVUVVRV9GTEFHX1NFQ0VSQVNFLCBycSk7Cj4gKwkJ
CWJsa19xdWV1ZV9tYXhfc2VjdXJlX2VyYXNlX3NlY3RvcnMocnEsCj4gKwkJCQkJCQkgICBnZXRf
Y2FwYWNpdHkoZ2QpKTsKPiAgCX0KPiAgCj4gIAkvKiBIYXJkIHNlY3RvciBzaXplIGFuZCBtYXgg
c2VjdG9ycyBpbXBlcnNvbmF0ZSB0aGUgZXF1aXYuIGhhcmR3YXJlLiAqLwo+IEBAIC0xNjA1LDcg
KzE2MDYsNyBAQCBzdGF0aWMgaXJxcmV0dXJuX3QgYmxraWZfaW50ZXJydXB0KGludCBpcnEsIHZv
aWQgKmRldl9pZCkKPiAgCQkJCWJsa2lmX3JlcShyZXEpLT5lcnJvciA9IEJMS19TVFNfTk9UU1VQ
UDsKPiAgCQkJCWluZm8tPmZlYXR1cmVfZGlzY2FyZCA9IDA7Cj4gIAkJCQlpbmZvLT5mZWF0dXJl
X3NlY2Rpc2NhcmQgPSAwOwo+IC0JCQkJYmxrX3F1ZXVlX2ZsYWdfY2xlYXIoUVVFVUVfRkxBR19T
RUNFUkFTRSwgcnEpOwo+ICsJCQkJYmxrX3F1ZXVlX21heF9zZWN1cmVfZXJhc2Vfc2VjdG9ycyhy
cSwgMCk7Cj4gIAkJCX0KPiAgCQkJYnJlYWs7Cj4gIAkJY2FzZSBCTEtJRl9PUF9GTFVTSF9ESVNL
Q0FDSEU6Cj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWQvYmNhY2hlL2FsbG9jLmMgYi9kcml2ZXJz
L21kL2JjYWNoZS9hbGxvYy5jCj4gaW5kZXggMDk3NTc3YWUzYzQ3MS4uY2UxM2MyNzJjMzg3MiAx
MDA2NDQKPiAtLS0gYS9kcml2ZXJzL21kL2JjYWNoZS9hbGxvYy5jCj4gKysrIGIvZHJpdmVycy9t
ZC9iY2FjaGUvYWxsb2MuYwo+IEBAIC0zMzYsNyArMzM2LDcgQEAgc3RhdGljIGludCBiY2hfYWxs
b2NhdG9yX3RocmVhZCh2b2lkICphcmcpCj4gIAkJCQltdXRleF91bmxvY2soJmNhLT5zZXQtPmJ1
Y2tldF9sb2NrKTsKPiAgCQkJCWJsa2Rldl9pc3N1ZV9kaXNjYXJkKGNhLT5iZGV2LAo+ICAJCQkJ
CWJ1Y2tldF90b19zZWN0b3IoY2EtPnNldCwgYnVja2V0KSwKPiAtCQkJCQljYS0+c2IuYnVja2V0
X3NpemUsIEdGUF9LRVJORUwsIDApOwo+ICsJCQkJCWNhLT5zYi5idWNrZXRfc2l6ZSwgR0ZQX0tF
Uk5FTCk7Cj4gIAkJCQltdXRleF9sb2NrKCZjYS0+c2V0LT5idWNrZXRfbG9jayk7Cj4gIAkJCX0K
PiAgCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvbWQvZG0tdGFibGUuYyBiL2RyaXZlcnMvbWQvZG0t
dGFibGUuYwo+IGluZGV4IDBkZmY2OTA3ZmQwMGQuLmU3ZDQyZjYzMzVhMmEgMTAwNjQ0Cj4gLS0t
IGEvZHJpdmVycy9tZC9kbS10YWJsZS5jCj4gKysrIGIvZHJpdmVycy9tZC9kbS10YWJsZS5jCj4g
QEAgLTE5MjAsOSArMTkyMCw3IEBAIHN0YXRpYyBpbnQgZGV2aWNlX25vdF9zZWN1cmVfZXJhc2Vf
Y2FwYWJsZShzdHJ1Y3QgZG1fdGFyZ2V0ICp0aSwKPiAgCQkJCQkgICBzdHJ1Y3QgZG1fZGV2ICpk
ZXYsIHNlY3Rvcl90IHN0YXJ0LAo+ICAJCQkJCSAgIHNlY3Rvcl90IGxlbiwgdm9pZCAqZGF0YSkK
PiAgewo+IC0Jc3RydWN0IHJlcXVlc3RfcXVldWUgKnEgPSBiZGV2X2dldF9xdWV1ZShkZXYtPmJk
ZXYpOwo+IC0KPiAtCXJldHVybiAhYmxrX3F1ZXVlX3NlY3VyZV9lcmFzZShxKTsKPiArCXJldHVy
biAhYmRldl9tYXhfc2VjdXJlX2VyYXNlX3NlY3RvcnMoZGV2LT5iZGV2KTsKPiAgfQo+ICAKPiAg
c3RhdGljIGJvb2wgZG1fdGFibGVfc3VwcG9ydHNfc2VjdXJlX2VyYXNlKHN0cnVjdCBkbV90YWJs
ZSAqdCkKPiBAQCAtMTk3NSw4ICsxOTczLDggQEAgaW50IGRtX3RhYmxlX3NldF9yZXN0cmljdGlv
bnMoc3RydWN0IGRtX3RhYmxlICp0LCBzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwKPiAgCQlxLT5s
aW1pdHMuZGlzY2FyZF9taXNhbGlnbmVkID0gMDsKPiAgCX0KPiAgCj4gLQlpZiAoZG1fdGFibGVf
c3VwcG9ydHNfc2VjdXJlX2VyYXNlKHQpKQo+IC0JCWJsa19xdWV1ZV9mbGFnX3NldChRVUVVRV9G
TEFHX1NFQ0VSQVNFLCBxKTsKPiArCWlmICghZG1fdGFibGVfc3VwcG9ydHNfc2VjdXJlX2VyYXNl
KHQpKQo+ICsJCXEtPmxpbWl0cy5tYXhfc2VjdXJlX2VyYXNlX3NlY3RvcnMgPSAwOwo+ICAKPiAg
CWlmIChkbV90YWJsZV9zdXBwb3J0c19mbHVzaCh0LCAoMVVMIDw8IFFVRVVFX0ZMQUdfV0MpKSkg
ewo+ICAJCXdjID0gdHJ1ZTsKPiBkaWZmIC0tZ2l0IGEvZHJpdmVycy9tZC9kbS10aGluLmMgYi9k
cml2ZXJzL21kL2RtLXRoaW4uYwo+IGluZGV4IGVkZWQ0YmNjNDU0NWYuLjg0YzA4M2Y3NjY3MzYg
MTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy9tZC9kbS10aGluLmMKPiArKysgYi9kcml2ZXJzL21kL2Rt
LXRoaW4uYwo+IEBAIC0zOTgsOCArMzk4LDggQEAgc3RhdGljIGludCBpc3N1ZV9kaXNjYXJkKHN0
cnVjdCBkaXNjYXJkX29wICpvcCwgZG1fYmxvY2tfdCBkYXRhX2IsIGRtX2Jsb2NrX3QgZGEKPiAg
CXNlY3Rvcl90IHMgPSBibG9ja190b19zZWN0b3JzKHRjLT5wb29sLCBkYXRhX2IpOwo+ICAJc2Vj
dG9yX3QgbGVuID0gYmxvY2tfdG9fc2VjdG9ycyh0Yy0+cG9vbCwgZGF0YV9lIC0gZGF0YV9iKTsK
PiAgCj4gLQlyZXR1cm4gX19ibGtkZXZfaXNzdWVfZGlzY2FyZCh0Yy0+cG9vbF9kZXYtPmJkZXYs
IHMsIGxlbiwKPiAtCQkJCSAgICAgIEdGUF9OT1dBSVQsIDAsICZvcC0+YmlvKTsKPiArCXJldHVy
biBfX2Jsa2Rldl9pc3N1ZV9kaXNjYXJkKHRjLT5wb29sX2Rldi0+YmRldiwgcywgbGVuLCBHRlBf
Tk9XQUlULAo+ICsJCQkJICAgICAgJm9wLT5iaW8pOwo+ICB9Cj4gIAo+ICBzdGF0aWMgdm9pZCBl
bmRfZGlzY2FyZChzdHJ1Y3QgZGlzY2FyZF9vcCAqb3AsIGludCByKQo+IGRpZmYgLS1naXQgYS9k
cml2ZXJzL21kL21kLmMgYi9kcml2ZXJzL21kL21kLmMKPiBpbmRleCAxOTYzNmMyZjJjZGE0Li4y
NTg3Zjg3MmMwODg0IDEwMDY0NAo+IC0tLSBhL2RyaXZlcnMvbWQvbWQuYwo+ICsrKyBiL2RyaXZl
cnMvbWQvbWQuYwo+IEBAIC04NTg0LDcgKzg1ODQsNyBAQCB2b2lkIG1kX3N1Ym1pdF9kaXNjYXJk
X2JpbyhzdHJ1Y3QgbWRkZXYgKm1kZGV2LCBzdHJ1Y3QgbWRfcmRldiAqcmRldiwKPiAgewo+ICAJ
c3RydWN0IGJpbyAqZGlzY2FyZF9iaW8gPSBOVUxMOwo+ICAKPiAtCWlmIChfX2Jsa2Rldl9pc3N1
ZV9kaXNjYXJkKHJkZXYtPmJkZXYsIHN0YXJ0LCBzaXplLCBHRlBfTk9JTywgMCwKPiArCWlmIChf
X2Jsa2Rldl9pc3N1ZV9kaXNjYXJkKHJkZXYtPmJkZXYsIHN0YXJ0LCBzaXplLCBHRlBfTk9JTywK
PiAgCQkJJmRpc2NhcmRfYmlvKSB8fCAhZGlzY2FyZF9iaW8pCj4gIAkJcmV0dXJuOwo+ICAKPiBk
aWZmIC0tZ2l0IGEvZHJpdmVycy9tZC9yYWlkNS1jYWNoZS5jIGIvZHJpdmVycy9tZC9yYWlkNS1j
YWNoZS5jCj4gaW5kZXggYzNjYmY5YTU3NGEzOS4uMDk0YTQwNDI1ODllYiAxMDA2NDQKPiAtLS0g
YS9kcml2ZXJzL21kL3JhaWQ1LWNhY2hlLmMKPiArKysgYi9kcml2ZXJzL21kL3JhaWQ1LWNhY2hl
LmMKPiBAQCAtMTM0NCwxNCArMTM0NCwxNCBAQCBzdGF0aWMgdm9pZCByNWxfd3JpdGVfc3VwZXJf
YW5kX2Rpc2NhcmRfc3BhY2Uoc3RydWN0IHI1bF9sb2cgKmxvZywKPiAgCWlmIChsb2ctPmxhc3Rf
Y2hlY2twb2ludCA8IGVuZCkgewo+ICAJCWJsa2Rldl9pc3N1ZV9kaXNjYXJkKGJkZXYsCj4gIAkJ
CQlsb2ctPmxhc3RfY2hlY2twb2ludCArIGxvZy0+cmRldi0+ZGF0YV9vZmZzZXQsCj4gLQkJCQll
bmQgLSBsb2ctPmxhc3RfY2hlY2twb2ludCwgR0ZQX05PSU8sIDApOwo+ICsJCQkJZW5kIC0gbG9n
LT5sYXN0X2NoZWNrcG9pbnQsIEdGUF9OT0lPKTsKPiAgCX0gZWxzZSB7Cj4gIAkJYmxrZGV2X2lz
c3VlX2Rpc2NhcmQoYmRldiwKPiAgCQkJCWxvZy0+bGFzdF9jaGVja3BvaW50ICsgbG9nLT5yZGV2
LT5kYXRhX29mZnNldCwKPiAgCQkJCWxvZy0+ZGV2aWNlX3NpemUgLSBsb2ctPmxhc3RfY2hlY2tw
b2ludCwKPiAtCQkJCUdGUF9OT0lPLCAwKTsKPiArCQkJCUdGUF9OT0lPKTsKPiAgCQlibGtkZXZf
aXNzdWVfZGlzY2FyZChiZGV2LCBsb2ctPnJkZXYtPmRhdGFfb2Zmc2V0LCBlbmQsCj4gLQkJCQlH
RlBfTk9JTywgMCk7Cj4gKwkJCQlHRlBfTk9JTyk7Cj4gIAl9Cj4gIH0KPiAgCj4gZGlmZiAtLWdp
dCBhL2RyaXZlcnMvbW1jL2NvcmUvcXVldWUuYyBiL2RyaXZlcnMvbW1jL2NvcmUvcXVldWUuYwo+
IGluZGV4IGNhYzYzMTUwMTBhM2QuLmEzZDQ0NjAwNTU3MTYgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVy
cy9tbWMvY29yZS9xdWV1ZS5jCj4gKysrIGIvZHJpdmVycy9tbWMvY29yZS9xdWV1ZS5jCj4gQEAg
LTE4OSw3ICsxODksNyBAQCBzdGF0aWMgdm9pZCBtbWNfcXVldWVfc2V0dXBfZGlzY2FyZChzdHJ1
Y3QgcmVxdWVzdF9xdWV1ZSAqcSwKPiAgCWlmIChjYXJkLT5wcmVmX2VyYXNlID4gbWF4X2Rpc2Nh
cmQpCj4gIAkJcS0+bGltaXRzLmRpc2NhcmRfZ3JhbnVsYXJpdHkgPSBTRUNUT1JfU0laRTsKPiAg
CWlmIChtbWNfY2FuX3NlY3VyZV9lcmFzZV90cmltKGNhcmQpKQo+IC0JCWJsa19xdWV1ZV9mbGFn
X3NldChRVUVVRV9GTEFHX1NFQ0VSQVNFLCBxKTsKPiArCQlibGtfcXVldWVfbWF4X3NlY3VyZV9l
cmFzZV9zZWN0b3JzKHEsIG1heF9kaXNjYXJkKTsKPiAgfQo+ICAKPiAgc3RhdGljIHVuc2lnbmVk
IHNob3J0IG1tY19nZXRfbWF4X3NlZ21lbnRzKHN0cnVjdCBtbWNfaG9zdCAqaG9zdCkKPiBkaWZm
IC0tZ2l0IGEvZHJpdmVycy9udm1lL3RhcmdldC9pby1jbWQtYmRldi5jIGIvZHJpdmVycy9udm1l
L3RhcmdldC9pby1jbWQtYmRldi5jCj4gaW5kZXggZDg4NmMyYzU5NTU0Zi4uMjdhNzI1MDRkMzFj
ZSAxMDA2NDQKPiAtLS0gYS9kcml2ZXJzL252bWUvdGFyZ2V0L2lvLWNtZC1iZGV2LmMKPiArKysg
Yi9kcml2ZXJzL252bWUvdGFyZ2V0L2lvLWNtZC1iZGV2LmMKPiBAQCAtMzYwLDcgKzM2MCw3IEBA
IHN0YXRpYyB1MTYgbnZtZXRfYmRldl9kaXNjYXJkX3JhbmdlKHN0cnVjdCBudm1ldF9yZXEgKnJl
cSwKPiAgCXJldCA9IF9fYmxrZGV2X2lzc3VlX2Rpc2NhcmQobnMtPmJkZXYsCj4gIAkJCW52bWV0
X2xiYV90b19zZWN0KG5zLCByYW5nZS0+c2xiYSksCj4gIAkJCWxlMzJfdG9fY3B1KHJhbmdlLT5u
bGIpIDw8IChucy0+Ymxrc2l6ZV9zaGlmdCAtIDkpLAo+IC0JCQlHRlBfS0VSTkVMLCAwLCBiaW8p
Owo+ICsJCQlHRlBfS0VSTkVMLCBiaW8pOwo+ICAJaWYgKHJldCAmJiByZXQgIT0gLUVPUE5PVFNV
UFApIHsKPiAgCQlyZXEtPmVycm9yX3NsYmEgPSBsZTY0X3RvX2NwdShyYW5nZS0+c2xiYSk7Cj4g
IAkJcmV0dXJuIGVycm5vX3RvX252bWVfc3RhdHVzKHJlcSwgcmV0KTsKPiBkaWZmIC0tZ2l0IGEv
ZHJpdmVycy90YXJnZXQvdGFyZ2V0X2NvcmVfZmlsZS5jIGIvZHJpdmVycy90YXJnZXQvdGFyZ2V0
X2NvcmVfZmlsZS5jCj4gaW5kZXggYjZiYTU4MmIwNjc3NS4uZTY4ZjFjYzhlZjk4YiAxMDA2NDQK
PiAtLS0gYS9kcml2ZXJzL3RhcmdldC90YXJnZXRfY29yZV9maWxlLmMKPiArKysgYi9kcml2ZXJz
L3RhcmdldC90YXJnZXRfY29yZV9maWxlLmMKPiBAQCAtNTU4LDcgKzU1OCw3IEBAIGZkX2V4ZWN1
dGVfdW5tYXAoc3RydWN0IHNlX2NtZCAqY21kLCBzZWN0b3JfdCBsYmEsIHNlY3Rvcl90IG5vbGIp
Cj4gIAkJcmV0ID0gYmxrZGV2X2lzc3VlX2Rpc2NhcmQoYmRldiwKPiAgCQkJCQkgICB0YXJnZXRf
dG9fbGludXhfc2VjdG9yKGRldiwgbGJhKSwKPiAgCQkJCQkgICB0YXJnZXRfdG9fbGludXhfc2Vj
dG9yKGRldiwgIG5vbGIpLAo+IC0JCQkJCSAgIEdGUF9LRVJORUwsIDApOwo+ICsJCQkJCSAgIEdG
UF9LRVJORUwpOwo+ICAJCWlmIChyZXQgPCAwKSB7Cj4gIAkJCXByX3dhcm4oIkZJTEVJTzogYmxr
ZGV2X2lzc3VlX2Rpc2NhcmQoKSBmYWlsZWQ6ICVkXG4iLAo+ICAJCQkJcmV0KTsKPiBkaWZmIC0t
Z2l0IGEvZHJpdmVycy90YXJnZXQvdGFyZ2V0X2NvcmVfaWJsb2NrLmMgYi9kcml2ZXJzL3Rhcmdl
dC90YXJnZXRfY29yZV9pYmxvY2suYwo+IGluZGV4IGM0YTkwM2I4YTQ3ZmMuLjM3OGM4MDMxM2Ew
ZjIgMTAwNjQ0Cj4gLS0tIGEvZHJpdmVycy90YXJnZXQvdGFyZ2V0X2NvcmVfaWJsb2NrLmMKPiAr
KysgYi9kcml2ZXJzL3RhcmdldC90YXJnZXRfY29yZV9pYmxvY2suYwo+IEBAIC00MzQsNyArNDM0
LDcgQEAgaWJsb2NrX2V4ZWN1dGVfdW5tYXAoc3RydWN0IHNlX2NtZCAqY21kLCBzZWN0b3JfdCBs
YmEsIHNlY3Rvcl90IG5vbGIpCj4gIAlyZXQgPSBibGtkZXZfaXNzdWVfZGlzY2FyZChiZGV2LAo+
ICAJCQkJICAgdGFyZ2V0X3RvX2xpbnV4X3NlY3RvcihkZXYsIGxiYSksCj4gIAkJCQkgICB0YXJn
ZXRfdG9fbGludXhfc2VjdG9yKGRldiwgIG5vbGIpLAo+IC0JCQkJICAgR0ZQX0tFUk5FTCwgMCk7
Cj4gKwkJCQkgICBHRlBfS0VSTkVMKTsKPiAgCWlmIChyZXQgPCAwKSB7Cj4gIAkJcHJfZXJyKCJi
bGtkZXZfaXNzdWVfZGlzY2FyZCgpIGZhaWxlZDogJWRcbiIsIHJldCk7Cj4gIAkJcmV0dXJuIFRD
TV9MT0dJQ0FMX1VOSVRfQ09NTVVOSUNBVElPTl9GQUlMVVJFOwo+IGRpZmYgLS1naXQgYS9mcy9i
dHJmcy9leHRlbnQtdHJlZS5jIGIvZnMvYnRyZnMvZXh0ZW50LXRyZWUuYwo+IGluZGV4IGVmZDhk
ZWIzYWI3ZTguLjVjMWQzYTU2NGRhNWEgMTAwNjQ0Cj4gLS0tIGEvZnMvYnRyZnMvZXh0ZW50LXRy
ZWUuYwo+ICsrKyBiL2ZzL2J0cmZzL2V4dGVudC10cmVlLmMKPiBAQCAtMTIzOSw3ICsxMjM5LDcg
QEAgc3RhdGljIGludCBidHJmc19pc3N1ZV9kaXNjYXJkKHN0cnVjdCBibG9ja19kZXZpY2UgKmJk
ZXYsIHU2NCBzdGFydCwgdTY0IGxlbiwKPiAgCj4gIAkJaWYgKHNpemUpIHsKPiAgCQkJcmV0ID0g
YmxrZGV2X2lzc3VlX2Rpc2NhcmQoYmRldiwgc3RhcnQgPj4gOSwgc2l6ZSA+PiA5LAo+IC0JCQkJ
CQkgICBHRlBfTk9GUywgMCk7Cj4gKwkJCQkJCSAgIEdGUF9OT0ZTKTsKPiAgCQkJaWYgKCFyZXQp
Cj4gIAkJCQkqZGlzY2FyZGVkX2J5dGVzICs9IHNpemU7Cj4gIAkJCWVsc2UgaWYgKHJldCAhPSAt
RU9QTk9UU1VQUCkKPiBAQCAtMTI1Niw3ICsxMjU2LDcgQEAgc3RhdGljIGludCBidHJmc19pc3N1
ZV9kaXNjYXJkKHN0cnVjdCBibG9ja19kZXZpY2UgKmJkZXYsIHU2NCBzdGFydCwgdTY0IGxlbiwK
PiAgCj4gIAlpZiAoYnl0ZXNfbGVmdCkgewo+ICAJCXJldCA9IGJsa2Rldl9pc3N1ZV9kaXNjYXJk
KGJkZXYsIHN0YXJ0ID4+IDksIGJ5dGVzX2xlZnQgPj4gOSwKPiAtCQkJCQkgICBHRlBfTk9GUywg
MCk7Cj4gKwkJCQkJICAgR0ZQX05PRlMpOwo+ICAJCWlmICghcmV0KQo+ICAJCQkqZGlzY2FyZGVk
X2J5dGVzICs9IGJ5dGVzX2xlZnQ7Cj4gIAl9Cj4gZGlmZiAtLWdpdCBhL2ZzL2V4dDQvbWJhbGxv
Yy5jIGIvZnMvZXh0NC9tYmFsbG9jLmMKPiBpbmRleCA2ZDE4MjA1MzZkODhkLi5lYTY1M2QxOWY5
ZWM3IDEwMDY0NAo+IC0tLSBhL2ZzL2V4dDQvbWJhbGxvYy5jCj4gKysrIGIvZnMvZXh0NC9tYmFs
bG9jLmMKPiBAQCAtMzYyOSw3ICszNjI5LDcgQEAgc3RhdGljIGlubGluZSBpbnQgZXh0NF9pc3N1
ZV9kaXNjYXJkKHN0cnVjdCBzdXBlcl9ibG9jayAqc2IsCj4gIAkJcmV0dXJuIF9fYmxrZGV2X2lz
c3VlX2Rpc2NhcmQoc2ItPnNfYmRldiwKPiAgCQkJKHNlY3Rvcl90KWRpc2NhcmRfYmxvY2sgPDwg
KHNiLT5zX2Jsb2Nrc2l6ZV9iaXRzIC0gOSksCj4gIAkJCShzZWN0b3JfdCljb3VudCA8PCAoc2It
PnNfYmxvY2tzaXplX2JpdHMgLSA5KSwKPiAtCQkJR0ZQX05PRlMsIDAsIGJpb3ApOwo+ICsJCQlH
RlBfTk9GUywgYmlvcCk7Cj4gIAl9IGVsc2UKPiAgCQlyZXR1cm4gc2JfaXNzdWVfZGlzY2FyZChz
YiwgZGlzY2FyZF9ibG9jaywgY291bnQsIEdGUF9OT0ZTLCAwKTsKPiAgfQo+IGRpZmYgLS1naXQg
YS9mcy9mMmZzL2ZpbGUuYyBiL2ZzL2YyZnMvZmlsZS5jCj4gaW5kZXggODA1M2Q5OWYzOTIwYi4u
MzViNmM3MjBjMmJjMSAxMDA2NDQKPiAtLS0gYS9mcy9mMmZzL2ZpbGUuYwo+ICsrKyBiL2ZzL2Yy
ZnMvZmlsZS5jCj4gQEAgLTM2ODUsMTggKzM2ODUsMTggQEAgc3RhdGljIGludCBmMmZzX3Jlc2Vy
dmVfY29tcHJlc3NfYmxvY2tzKHN0cnVjdCBmaWxlICpmaWxwLCB1bnNpZ25lZCBsb25nIGFyZykK
PiAgc3RhdGljIGludCBmMmZzX3NlY3VyZV9lcmFzZShzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2
LCBzdHJ1Y3QgaW5vZGUgKmlub2RlLAo+ICAJCXBnb2ZmX3Qgb2ZmLCBibG9ja190IGJsb2NrLCBi
bG9ja190IGxlbiwgdTMyIGZsYWdzKQo+ICB7Cj4gLQlzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSA9
IGJkZXZfZ2V0X3F1ZXVlKGJkZXYpOwo+ICAJc2VjdG9yX3Qgc2VjdG9yID0gU0VDVE9SX0ZST01f
QkxPQ0soYmxvY2spOwo+ICAJc2VjdG9yX3QgbnJfc2VjdHMgPSBTRUNUT1JfRlJPTV9CTE9DSyhs
ZW4pOwo+ICAJaW50IHJldCA9IDA7Cj4gIAo+IC0JaWYgKCFxKQo+IC0JCXJldHVybiAtRU5YSU87
Cj4gLQo+IC0JaWYgKGZsYWdzICYgRjJGU19UUklNX0ZJTEVfRElTQ0FSRCkKPiAtCQlyZXQgPSBi
bGtkZXZfaXNzdWVfZGlzY2FyZChiZGV2LCBzZWN0b3IsIG5yX3NlY3RzLCBHRlBfTk9GUywKPiAt
CQkJCQkJYmxrX3F1ZXVlX3NlY3VyZV9lcmFzZShxKSA/Cj4gLQkJCQkJCUJMS0RFVl9ESVNDQVJE
X1NFQ1VSRSA6IDApOwo+ICsJaWYgKGZsYWdzICYgRjJGU19UUklNX0ZJTEVfRElTQ0FSRCkgewo+
ICsJCWlmIChiZGV2X21heF9zZWN1cmVfZXJhc2Vfc2VjdG9ycyhiZGV2KSkKPiArCQkJcmV0ID0g
YmxrZGV2X2lzc3VlX3NlY3VyZV9lcmFzZShiZGV2LCBzZWN0b3IsIG5yX3NlY3RzLAo+ICsJCQkJ
CUdGUF9OT0ZTKTsKPiArCQllbHNlCj4gKwkJCXJldCA9IGJsa2Rldl9pc3N1ZV9kaXNjYXJkKGJk
ZXYsIHNlY3RvciwgbnJfc2VjdHMsCj4gKwkJCQkJR0ZQX05PRlMpOwo+ICsJfQo+ICAKPiAgCWlm
ICghcmV0ICYmIChmbGFncyAmIEYyRlNfVFJJTV9GSUxFX1pFUk9PVVQpKSB7Cj4gIAkJaWYgKElT
X0VOQ1JZUFRFRChpbm9kZSkpCj4gZGlmZiAtLWdpdCBhL2ZzL2YyZnMvc2VnbWVudC5jIGIvZnMv
ZjJmcy9zZWdtZW50LmMKPiBpbmRleCA3MWYwOWFkYmNiYTg2Li5lNDMzYzYxZTY0YjkzIDEwMDY0
NAo+IC0tLSBhL2ZzL2YyZnMvc2VnbWVudC5jCj4gKysrIGIvZnMvZjJmcy9zZWdtZW50LmMKPiBA
QCAtMTI0NCw3ICsxMjQ0LDcgQEAgc3RhdGljIGludCBfX3N1Ym1pdF9kaXNjYXJkX2NtZChzdHJ1
Y3QgZjJmc19zYl9pbmZvICpzYmksCj4gIAkJZXJyID0gX19ibGtkZXZfaXNzdWVfZGlzY2FyZChi
ZGV2LAo+ICAJCQkJCVNFQ1RPUl9GUk9NX0JMT0NLKHN0YXJ0KSwKPiAgCQkJCQlTRUNUT1JfRlJP
TV9CTE9DSyhsZW4pLAo+IC0JCQkJCUdGUF9OT0ZTLCAwLCAmYmlvKTsKPiArCQkJCQlHRlBfTk9G
UywgJmJpbyk7Cj4gIHN1Ym1pdDoKPiAgCQlpZiAoZXJyKSB7Cj4gIAkJCXNwaW5fbG9ja19pcnFz
YXZlKCZkYy0+bG9jaywgZmxhZ3MpOwo+IGRpZmYgLS1naXQgYS9mcy9qYmQyL2pvdXJuYWwuYyBi
L2ZzL2piZDIvam91cm5hbC5jCj4gaW5kZXggMTlkMjI2Y2Q0ZmY0ZC4uYzBjYmVlYWVjMmQxYSAx
MDA2NDQKPiAtLS0gYS9mcy9qYmQyL2pvdXJuYWwuYwo+ICsrKyBiL2ZzL2piZDIvam91cm5hbC5j
Cj4gQEAgLTE4MjUsNyArMTgyNSw3IEBAIHN0YXRpYyBpbnQgX19qYmQyX2pvdXJuYWxfZXJhc2Uo
am91cm5hbF90ICpqb3VybmFsLCB1bnNpZ25lZCBpbnQgZmxhZ3MpCj4gIAkJCWVyciA9IGJsa2Rl
dl9pc3N1ZV9kaXNjYXJkKGpvdXJuYWwtPmpfZGV2LAo+ICAJCQkJCWJ5dGVfc3RhcnQgPj4gU0VD
VE9SX1NISUZULAo+ICAJCQkJCWJ5dGVfY291bnQgPj4gU0VDVE9SX1NISUZULAo+IC0JCQkJCUdG
UF9OT0ZTLCAwKTsKPiArCQkJCQlHRlBfTk9GUyk7Cj4gIAkJfSBlbHNlIGlmIChmbGFncyAmIEpC
RDJfSk9VUk5BTF9GTFVTSF9aRVJPT1VUKSB7Cj4gIAkJCWVyciA9IGJsa2Rldl9pc3N1ZV96ZXJv
b3V0KGpvdXJuYWwtPmpfZGV2LAo+ICAJCQkJCWJ5dGVfc3RhcnQgPj4gU0VDVE9SX1NISUZULAo+
IGRpZmYgLS1naXQgYS9mcy9uaWxmczIvc3VmaWxlLmMgYi9mcy9uaWxmczIvc3VmaWxlLmMKPiBp
bmRleCBlMzg1Y2NhMjAwNGE3Li43N2ZmOGU5NTQyMWZhIDEwMDY0NAo+IC0tLSBhL2ZzL25pbGZz
Mi9zdWZpbGUuYwo+ICsrKyBiL2ZzL25pbGZzMi9zdWZpbGUuYwo+IEBAIC0xMTAwLDcgKzExMDAs
NyBAQCBpbnQgbmlsZnNfc3VmaWxlX3RyaW1fZnMoc3RydWN0IGlub2RlICpzdWZpbGUsIHN0cnVj
dCBmc3RyaW1fcmFuZ2UgKnJhbmdlKQo+ICAJCQkJcmV0ID0gYmxrZGV2X2lzc3VlX2Rpc2NhcmQo
bmlsZnMtPm5zX2JkZXYsCj4gIAkJCQkJCXN0YXJ0ICogc2VjdHNfcGVyX2Jsb2NrLAo+ICAJCQkJ
CQluYmxvY2tzICogc2VjdHNfcGVyX2Jsb2NrLAo+IC0JCQkJCQlHRlBfTk9GUywgMCk7Cj4gKwkJ
CQkJCUdGUF9OT0ZTKTsKPiAgCQkJCWlmIChyZXQgPCAwKSB7Cj4gIAkJCQkJcHV0X2JoKHN1X2Jo
KTsKPiAgCQkJCQlnb3RvIG91dF9zZW07Cj4gQEAgLTExMzQsNyArMTEzNCw3IEBAIGludCBuaWxm
c19zdWZpbGVfdHJpbV9mcyhzdHJ1Y3QgaW5vZGUgKnN1ZmlsZSwgc3RydWN0IGZzdHJpbV9yYW5n
ZSAqcmFuZ2UpCj4gIAkJCXJldCA9IGJsa2Rldl9pc3N1ZV9kaXNjYXJkKG5pbGZzLT5uc19iZGV2
LAo+ICAJCQkJCXN0YXJ0ICogc2VjdHNfcGVyX2Jsb2NrLAo+ICAJCQkJCW5ibG9ja3MgKiBzZWN0
c19wZXJfYmxvY2ssCj4gLQkJCQkJR0ZQX05PRlMsIDApOwo+ICsJCQkJCUdGUF9OT0ZTKTsKPiAg
CQkJaWYgKCFyZXQpCj4gIAkJCQluZGlzY2FyZGVkICs9IG5ibG9ja3M7Cj4gIAkJfQo+IGRpZmYg
LS1naXQgYS9mcy9uaWxmczIvdGhlX25pbGZzLmMgYi9mcy9uaWxmczIvdGhlX25pbGZzLmMKPiBp
bmRleCBkZDQ4YThmNzRkNTc3Li4zYjRhMDc5Yzk2MTdjIDEwMDY0NAo+IC0tLSBhL2ZzL25pbGZz
Mi90aGVfbmlsZnMuYwo+ICsrKyBiL2ZzL25pbGZzMi90aGVfbmlsZnMuYwo+IEBAIC02NzIsNyAr
NjcyLDcgQEAgaW50IG5pbGZzX2Rpc2NhcmRfc2VnbWVudHMoc3RydWN0IHRoZV9uaWxmcyAqbmls
ZnMsIF9fdTY0ICpzZWdudW1wLAo+ICAJCQlyZXQgPSBibGtkZXZfaXNzdWVfZGlzY2FyZChuaWxm
cy0+bnNfYmRldiwKPiAgCQkJCQkJICAgc3RhcnQgKiBzZWN0c19wZXJfYmxvY2ssCj4gIAkJCQkJ
CSAgIG5ibG9ja3MgKiBzZWN0c19wZXJfYmxvY2ssCj4gLQkJCQkJCSAgIEdGUF9OT0ZTLCAwKTsK
PiArCQkJCQkJICAgR0ZQX05PRlMpOwo+ICAJCQlpZiAocmV0IDwgMCkKPiAgCQkJCXJldHVybiBy
ZXQ7Cj4gIAkJCW5ibG9ja3MgPSAwOwo+IEBAIC02ODIsNyArNjgyLDcgQEAgaW50IG5pbGZzX2Rp
c2NhcmRfc2VnbWVudHMoc3RydWN0IHRoZV9uaWxmcyAqbmlsZnMsIF9fdTY0ICpzZWdudW1wLAo+
ICAJCXJldCA9IGJsa2Rldl9pc3N1ZV9kaXNjYXJkKG5pbGZzLT5uc19iZGV2LAo+ICAJCQkJCSAg
IHN0YXJ0ICogc2VjdHNfcGVyX2Jsb2NrLAo+ICAJCQkJCSAgIG5ibG9ja3MgKiBzZWN0c19wZXJf
YmxvY2ssCj4gLQkJCQkJICAgR0ZQX05PRlMsIDApOwo+ICsJCQkJCSAgIEdGUF9OT0ZTKTsKPiAg
CXJldHVybiByZXQ7Cj4gIH0KPiAgCj4gZGlmZiAtLWdpdCBhL2ZzL250ZnMzL3N1cGVyLmMgYi9m
cy9udGZzMy9zdXBlci5jCj4gaW5kZXggNWYyZTQxNGNmYTc5Yi4uNTc4MWI5ZThlM2Q4NSAxMDA2
NDQKPiAtLS0gYS9mcy9udGZzMy9zdXBlci5jCj4gKysrIGIvZnMvbnRmczMvc3VwZXIuYwo+IEBA
IC0xMzMzLDcgKzEzMzMsNyBAQCBpbnQgbnRmc19kaXNjYXJkKHN0cnVjdCBudGZzX3NiX2luZm8g
KnNiaSwgQ0xTVCBsY24sIENMU1QgbGVuKQo+ICAJCXJldHVybiAwOwo+ICAKPiAgCWVyciA9IGJs
a2Rldl9pc3N1ZV9kaXNjYXJkKHNiLT5zX2JkZXYsIHN0YXJ0ID4+IDksIChlbmQgLSBzdGFydCkg
Pj4gOSwKPiAtCQkJCSAgIEdGUF9OT0ZTLCAwKTsKPiArCQkJCSAgIEdGUF9OT0ZTKTsKPiAgCj4g
IAlpZiAoZXJyID09IC1FT1BOT1RTVVBQKQo+ICAJCXNiaS0+ZmxhZ3MgfD0gTlRGU19GTEFHU19O
T0RJU0NBUkQ7Cj4gZGlmZiAtLWdpdCBhL2ZzL3hmcy94ZnNfZGlzY2FyZC5jIGIvZnMveGZzL3hm
c19kaXNjYXJkLmMKPiBpbmRleCBlMmFkYTExNWMyM2Y5Li5jNmZlM2Y2ZWJiNmIwIDEwMDY0NAo+
IC0tLSBhL2ZzL3hmcy94ZnNfZGlzY2FyZC5jCj4gKysrIGIvZnMveGZzL3hmc19kaXNjYXJkLmMK
PiBAQCAtMTE0LDcgKzExNCw3IEBAIHhmc190cmltX2V4dGVudHMoCj4gIAkJfQo+ICAKPiAgCQl0
cmFjZV94ZnNfZGlzY2FyZF9leHRlbnQobXAsIGFnbm8sIGZibm8sIGZsZW4pOwo+IC0JCWVycm9y
ID0gYmxrZGV2X2lzc3VlX2Rpc2NhcmQoYmRldiwgZGJubywgZGxlbiwgR0ZQX05PRlMsIDApOwo+
ICsJCWVycm9yID0gYmxrZGV2X2lzc3VlX2Rpc2NhcmQoYmRldiwgZGJubywgZGxlbiwgR0ZQX05P
RlMpOwo+ICAJCWlmIChlcnJvcikKPiAgCQkJZ290byBvdXRfZGVsX2N1cnNvcjsKPiAgCQkqYmxv
Y2tzX3RyaW1tZWQgKz0gZmxlbjsKPiBkaWZmIC0tZ2l0IGEvZnMveGZzL3hmc19sb2dfY2lsLmMg
Yi9mcy94ZnMveGZzX2xvZ19jaWwuYwo+IGluZGV4IGJhNTczMjNiZmRjZWEuLmM5ZjU1ZTRmMDk1
NzEgMTAwNjQ0Cj4gLS0tIGEvZnMveGZzL3hmc19sb2dfY2lsLmMKPiArKysgYi9mcy94ZnMveGZz
X2xvZ19jaWwuYwo+IEBAIC02MDUsNyArNjA1LDcgQEAgeGxvZ19kaXNjYXJkX2J1c3lfZXh0ZW50
cygKPiAgCQllcnJvciA9IF9fYmxrZGV2X2lzc3VlX2Rpc2NhcmQobXAtPm1fZGRldl90YXJncC0+
YnRfYmRldiwKPiAgCQkJCVhGU19BR0JfVE9fREFERFIobXAsIGJ1c3lwLT5hZ25vLCBidXN5cC0+
Ym5vKSwKPiAgCQkJCVhGU19GU0JfVE9fQkIobXAsIGJ1c3lwLT5sZW5ndGgpLAo+IC0JCQkJR0ZQ
X05PRlMsIDAsICZiaW8pOwo+ICsJCQkJR0ZQX05PRlMsICZiaW8pOwo+ICAJCWlmIChlcnJvciAm
JiBlcnJvciAhPSAtRU9QTk9UU1VQUCkgewo+ICAJCQl4ZnNfaW5mbyhtcCwKPiAgCSAiZGlzY2Fy
ZCBmYWlsZWQgZm9yIGV4dGVudCBbMHglbGx4LCV1XSwgZXJyb3IgJWQiLAo+IGRpZmYgLS1naXQg
YS9pbmNsdWRlL2xpbnV4L2Jsa2Rldi5oIGIvaW5jbHVkZS9saW51eC9ibGtkZXYuaAo+IGluZGV4
IGYxY2Y1NTdlYTIwZWYuLmM5YjU5MjVhZjVhM2IgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9saW51
eC9ibGtkZXYuaAo+ICsrKyBiL2luY2x1ZGUvbGludXgvYmxrZGV2LmgKPiBAQCAtMjQ4LDYgKzI0
OCw3IEBAIHN0cnVjdCBxdWV1ZV9saW1pdHMgewo+ICAJdW5zaWduZWQgaW50CQlpb19vcHQ7Cj4g
IAl1bnNpZ25lZCBpbnQJCW1heF9kaXNjYXJkX3NlY3RvcnM7Cj4gIAl1bnNpZ25lZCBpbnQJCW1h
eF9od19kaXNjYXJkX3NlY3RvcnM7Cj4gKwl1bnNpZ25lZCBpbnQJCW1heF9zZWN1cmVfZXJhc2Vf
c2VjdG9yczsKPiAgCXVuc2lnbmVkIGludAkJbWF4X3dyaXRlX3plcm9lc19zZWN0b3JzOwo+ICAJ
dW5zaWduZWQgaW50CQltYXhfem9uZV9hcHBlbmRfc2VjdG9yczsKPiAgCXVuc2lnbmVkIGludAkJ
ZGlzY2FyZF9ncmFudWxhcml0eTsKPiBAQCAtNTQyLDcgKzU0Myw2IEBAIHN0cnVjdCByZXF1ZXN0
X3F1ZXVlIHsKPiAgI2RlZmluZSBRVUVVRV9GTEFHX0lPX1NUQVQJNwkvKiBkbyBkaXNrL3BhcnRp
dGlvbnMgSU8gYWNjb3VudGluZyAqLwo+ICAjZGVmaW5lIFFVRVVFX0ZMQUdfTk9YTUVSR0VTCTkJ
LyogTm8gZXh0ZW5kZWQgbWVyZ2VzICovCj4gICNkZWZpbmUgUVVFVUVfRkxBR19BRERfUkFORE9N
CTEwCS8qIENvbnRyaWJ1dGVzIHRvIHJhbmRvbSBwb29sICovCj4gLSNkZWZpbmUgUVVFVUVfRkxB
R19TRUNFUkFTRQkxMQkvKiBzdXBwb3J0cyBzZWN1cmUgZXJhc2UgKi8KPiAgI2RlZmluZSBRVUVV
RV9GTEFHX1NBTUVfRk9SQ0UJMTIJLyogZm9yY2UgY29tcGxldGUgb24gc2FtZSBDUFUgKi8KPiAg
I2RlZmluZSBRVUVVRV9GTEFHX0RFQUQJCTEzCS8qIHF1ZXVlIHRlYXItZG93biBmaW5pc2hlZCAq
Lwo+ICAjZGVmaW5lIFFVRVVFX0ZMQUdfSU5JVF9ET05FCTE0CS8qIHF1ZXVlIGlzIGluaXRpYWxp
emVkICovCj4gQEAgLTU4Myw4ICs1ODMsNiBAQCBib29sIGJsa19xdWV1ZV9mbGFnX3Rlc3RfYW5k
X3NldCh1bnNpZ25lZCBpbnQgZmxhZywgc3RydWN0IHJlcXVlc3RfcXVldWUgKnEpOwo+ICAjZGVm
aW5lIGJsa19xdWV1ZV9hZGRfcmFuZG9tKHEpCXRlc3RfYml0KFFVRVVFX0ZMQUdfQUREX1JBTkRP
TSwgJihxKS0+cXVldWVfZmxhZ3MpCj4gICNkZWZpbmUgYmxrX3F1ZXVlX3pvbmVfcmVzZXRhbGwo
cSkJXAo+ICAJdGVzdF9iaXQoUVVFVUVfRkxBR19aT05FX1JFU0VUQUxMLCAmKHEpLT5xdWV1ZV9m
bGFncykKPiAtI2RlZmluZSBibGtfcXVldWVfc2VjdXJlX2VyYXNlKHEpIFwKPiAtCSh0ZXN0X2Jp
dChRVUVVRV9GTEFHX1NFQ0VSQVNFLCAmKHEpLT5xdWV1ZV9mbGFncykpCj4gICNkZWZpbmUgYmxr
X3F1ZXVlX2RheChxKQl0ZXN0X2JpdChRVUVVRV9GTEFHX0RBWCwgJihxKS0+cXVldWVfZmxhZ3Mp
Cj4gICNkZWZpbmUgYmxrX3F1ZXVlX3BjaV9wMnBkbWEocSkJXAo+ICAJdGVzdF9iaXQoUVVFVUVf
RkxBR19QQ0lfUDJQRE1BLCAmKHEpLT5xdWV1ZV9mbGFncykKPiBAQCAtOTQ3LDYgKzk0NSw4IEBA
IGV4dGVybiB2b2lkIGJsa19xdWV1ZV9jaHVua19zZWN0b3JzKHN0cnVjdCByZXF1ZXN0X3F1ZXVl
ICosIHVuc2lnbmVkIGludCk7Cj4gIGV4dGVybiB2b2lkIGJsa19xdWV1ZV9tYXhfc2VnbWVudHMo
c3RydWN0IHJlcXVlc3RfcXVldWUgKiwgdW5zaWduZWQgc2hvcnQpOwo+ICBleHRlcm4gdm9pZCBi
bGtfcXVldWVfbWF4X2Rpc2NhcmRfc2VnbWVudHMoc3RydWN0IHJlcXVlc3RfcXVldWUgKiwKPiAg
CQl1bnNpZ25lZCBzaG9ydCk7Cj4gK3ZvaWQgYmxrX3F1ZXVlX21heF9zZWN1cmVfZXJhc2Vfc2Vj
dG9ycyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwKPiArCQl1bnNpZ25lZCBpbnQgbWF4X3NlY3Rv
cnMpOwo+ICBleHRlcm4gdm9pZCBibGtfcXVldWVfbWF4X3NlZ21lbnRfc2l6ZShzdHJ1Y3QgcmVx
dWVzdF9xdWV1ZSAqLCB1bnNpZ25lZCBpbnQpOwo+ICBleHRlcm4gdm9pZCBibGtfcXVldWVfbWF4
X2Rpc2NhcmRfc2VjdG9ycyhzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSwKPiAgCQl1bnNpZ25lZCBp
bnQgbWF4X2Rpc2NhcmRfc2VjdG9ycyk7Cj4gQEAgLTEwODcsMTMgKzEwODcsMTIgQEAgc3RhdGlj
IGlubGluZSBsb25nIG5yX2Jsb2NrZGV2X3BhZ2VzKHZvaWQpCj4gIAo+ICBleHRlcm4gdm9pZCBi
bGtfaW9fc2NoZWR1bGUodm9pZCk7Cj4gIAo+IC0jZGVmaW5lIEJMS0RFVl9ESVNDQVJEX1NFQ1VS
RQkoMSA8PCAwKQkvKiBpc3N1ZSBhIHNlY3VyZSBlcmFzZSAqLwo+IC0KPiAtZXh0ZXJuIGludCBi
bGtkZXZfaXNzdWVfZGlzY2FyZChzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2LCBzZWN0b3JfdCBz
ZWN0b3IsCj4gLQkJc2VjdG9yX3QgbnJfc2VjdHMsIGdmcF90IGdmcF9tYXNrLCB1bnNpZ25lZCBs
b25nIGZsYWdzKTsKPiAtZXh0ZXJuIGludCBfX2Jsa2Rldl9pc3N1ZV9kaXNjYXJkKHN0cnVjdCBi
bG9ja19kZXZpY2UgKmJkZXYsIHNlY3Rvcl90IHNlY3RvciwKPiAtCQlzZWN0b3JfdCBucl9zZWN0
cywgZ2ZwX3QgZ2ZwX21hc2ssIGludCBmbGFncywKPiAtCQlzdHJ1Y3QgYmlvICoqYmlvcCk7Cj4g
K2ludCBibGtkZXZfaXNzdWVfZGlzY2FyZChzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2LCBzZWN0
b3JfdCBzZWN0b3IsCj4gKwkJc2VjdG9yX3QgbnJfc2VjdHMsIGdmcF90IGdmcF9tYXNrKTsKPiAr
aW50IF9fYmxrZGV2X2lzc3VlX2Rpc2NhcmQoc3RydWN0IGJsb2NrX2RldmljZSAqYmRldiwgc2Vj
dG9yX3Qgc2VjdG9yLAo+ICsJCXNlY3Rvcl90IG5yX3NlY3RzLCBnZnBfdCBnZnBfbWFzaywgc3Ry
dWN0IGJpbyAqKmJpb3ApOwo+ICtpbnQgYmxrZGV2X2lzc3VlX3NlY3VyZV9lcmFzZShzdHJ1Y3Qg
YmxvY2tfZGV2aWNlICpiZGV2LCBzZWN0b3JfdCBzZWN0b3IsCj4gKwkJc2VjdG9yX3QgbnJfc2Vj
dHMsIGdmcF90IGdmcCk7Cj4gIAo+ICAjZGVmaW5lIEJMS0RFVl9aRVJPX05PVU5NQVAJKDEgPDwg
MCkgIC8qIGRvIG5vdCBmcmVlIGJsb2NrcyAqLwo+ICAjZGVmaW5lIEJMS0RFVl9aRVJPX05PRkFM
TEJBQ0sJKDEgPDwgMSkgIC8qIGRvbid0IHdyaXRlIGV4cGxpY2l0IHplcm9lcyAqLwo+IEBAIC0x
MTEyLDcgKzExMTEsNyBAQCBzdGF0aWMgaW5saW5lIGludCBzYl9pc3N1ZV9kaXNjYXJkKHN0cnVj
dCBzdXBlcl9ibG9jayAqc2IsIHNlY3Rvcl90IGJsb2NrLAo+ICAJCQkJCSAgICAgIFNFQ1RPUl9T
SElGVCksCj4gIAkJCQkgICAgbnJfYmxvY2tzIDw8IChzYi0+c19ibG9ja3NpemVfYml0cyAtCj4g
IAkJCQkJCSAgU0VDVE9SX1NISUZUKSwKPiAtCQkJCSAgICBnZnBfbWFzaywgZmxhZ3MpOwo+ICsJ
CQkJICAgIGdmcF9tYXNrKTsKPiAgfQo+ICBzdGF0aWMgaW5saW5lIGludCBzYl9pc3N1ZV96ZXJv
b3V0KHN0cnVjdCBzdXBlcl9ibG9jayAqc2IsIHNlY3Rvcl90IGJsb2NrLAo+ICAJCXNlY3Rvcl90
IG5yX2Jsb2NrcywgZ2ZwX3QgZ2ZwX21hc2spCj4gQEAgLTEyNjIsNiArMTI2MSwxMiBAQCBzdGF0
aWMgaW5saW5lIHVuc2lnbmVkIGludCBiZGV2X2Rpc2NhcmRfZ3JhbnVsYXJpdHkoc3RydWN0IGJs
b2NrX2RldmljZSAqYmRldikKPiAgCXJldHVybiBiZGV2X2dldF9xdWV1ZShiZGV2KS0+bGltaXRz
LmRpc2NhcmRfZ3JhbnVsYXJpdHk7Cj4gIH0KPiAgCj4gK3N0YXRpYyBpbmxpbmUgdW5zaWduZWQg
aW50Cj4gK2JkZXZfbWF4X3NlY3VyZV9lcmFzZV9zZWN0b3JzKHN0cnVjdCBibG9ja19kZXZpY2Ug
KmJkZXYpCj4gK3sKPiArCXJldHVybiBiZGV2X2dldF9xdWV1ZShiZGV2KS0+bGltaXRzLm1heF9z
ZWN1cmVfZXJhc2Vfc2VjdG9yczsKPiArfQo+ICsKPiAgc3RhdGljIGlubGluZSB1bnNpZ25lZCBp
bnQgYmRldl93cml0ZV96ZXJvZXNfc2VjdG9ycyhzdHJ1Y3QgYmxvY2tfZGV2aWNlICpiZGV2KQo+
ICB7Cj4gIAlzdHJ1Y3QgcmVxdWVzdF9xdWV1ZSAqcSA9IGJkZXZfZ2V0X3F1ZXVlKGJkZXYpOwo+
IGRpZmYgLS1naXQgYS9tbS9zd2FwZmlsZS5jIGIvbW0vc3dhcGZpbGUuYwo+IGluZGV4IDVkOWNl
ZGY5ZTdiODQuLmEyYjMxZmVhMGM0MmUgMTAwNjQ0Cj4gLS0tIGEvbW0vc3dhcGZpbGUuYwo+ICsr
KyBiL21tL3N3YXBmaWxlLmMKPiBAQCAtMTc5LDcgKzE3OSw3IEBAIHN0YXRpYyBpbnQgZGlzY2Fy
ZF9zd2FwKHN0cnVjdCBzd2FwX2luZm9fc3RydWN0ICpzaSkKPiAgCW5yX2Jsb2NrcyA9ICgoc2Vj
dG9yX3Qpc2UtPm5yX3BhZ2VzIC0gMSkgPDwgKFBBR0VfU0hJRlQgLSA5KTsKPiAgCWlmIChucl9i
bG9ja3MpIHsKPiAgCQllcnIgPSBibGtkZXZfaXNzdWVfZGlzY2FyZChzaS0+YmRldiwgc3RhcnRf
YmxvY2ssCj4gLQkJCQlucl9ibG9ja3MsIEdGUF9LRVJORUwsIDApOwo+ICsJCQkJbnJfYmxvY2tz
LCBHRlBfS0VSTkVMKTsKPiAgCQlpZiAoZXJyKQo+ICAJCQlyZXR1cm4gZXJyOwo+ICAJCWNvbmRf
cmVzY2hlZCgpOwo+IEBAIC0xOTAsNyArMTkwLDcgQEAgc3RhdGljIGludCBkaXNjYXJkX3N3YXAo
c3RydWN0IHN3YXBfaW5mb19zdHJ1Y3QgKnNpKQo+ICAJCW5yX2Jsb2NrcyA9IChzZWN0b3JfdClz
ZS0+bnJfcGFnZXMgPDwgKFBBR0VfU0hJRlQgLSA5KTsKPiAgCj4gIAkJZXJyID0gYmxrZGV2X2lz
c3VlX2Rpc2NhcmQoc2ktPmJkZXYsIHN0YXJ0X2Jsb2NrLAo+IC0JCQkJbnJfYmxvY2tzLCBHRlBf
S0VSTkVMLCAwKTsKPiArCQkJCW5yX2Jsb2NrcywgR0ZQX0tFUk5FTCk7Cj4gIAkJaWYgKGVycikK
PiAgCQkJYnJlYWs7Cj4gIAo+IEBAIC0yNTQsNyArMjU0LDcgQEAgc3RhdGljIHZvaWQgZGlzY2Fy
ZF9zd2FwX2NsdXN0ZXIoc3RydWN0IHN3YXBfaW5mb19zdHJ1Y3QgKnNpLAo+ICAJCXN0YXJ0X2Js
b2NrIDw8PSBQQUdFX1NISUZUIC0gOTsKPiAgCQlucl9ibG9ja3MgPDw9IFBBR0VfU0hJRlQgLSA5
Owo+ICAJCWlmIChibGtkZXZfaXNzdWVfZGlzY2FyZChzaS0+YmRldiwgc3RhcnRfYmxvY2ssCj4g
LQkJCQkJbnJfYmxvY2tzLCBHRlBfTk9JTywgMCkpCj4gKwkJCQkJbnJfYmxvY2tzLCBHRlBfTk9J
TykpCj4gIAkJCWJyZWFrOwo+ICAKPiAgCQlzZSA9IG5leHRfc2Uoc2UpOwpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpkcmJkLWRldiBtYWlsaW5nIGxpc3QK
ZHJiZC1kZXZAbGlzdHMubGluYml0LmNvbQpodHRwczovL2xpc3RzLmxpbmJpdC5jb20vbWFpbG1h
bi9saXN0aW5mby9kcmJkLWRldgo=
